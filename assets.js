function zipCodeService(angular,google){"use strict";angular.module("grft.startup.wizard.services.geoCoderService",[]).factory("ZipDecoder",function($q){var queue=[],executeNext=function(){var task=queue[0],geocoder=new google.maps.Geocoder,getCityState=function(results){var city,state,i,t,a=results[0].address_components,compIsType=function(t,s){var z;for(z=0;z<t.length;z+=1)if(t[z]===s)return!0;return!1};for(i=0;i<a.length;i+=1)t=a[i].types,compIsType(t,"administrative_area_level_1")?state=a[i].long_name:compIsType(t,"locality")&&(city=a[i].long_name);return{city:city,state:state}};geocoder.geocode({address:task.address},function(result,status){status===google.maps.GeocoderStatus.OK?geocoder.geocode({latLng:result[0].geometry.location},function(results,status){if(status===google.maps.GeocoderStatus.OK&&results[1]){var parsedResult=getCityState(results);queue.shift(),task.d.resolve(parsedResult)}}):status===google.maps.GeocoderStatus.ZERO_RESULTS?(queue.shift(),task.d.reject({type:"zero",message:"Zero results for geocoding address "+task.address})):status===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?task.executedAfterPause&&(queue.shift(),task.d.reject({type:"busy",message:"Geocoding server is busy can not process address "+task.address})):status===google.maps.GeocoderStatus.REQUEST_DENIED?(queue.shift(),task.d.reject({type:"denied",message:"Request denied for geocoding address "+task.address})):(queue.shift(),task.d.reject({type:"invalid",message:"Invalid request for geocoding: status="+status+", address="+task.address}))})};return{geocodeAddress:function(address){var d=$q.defer();return queue.push({address:address,d:d}),1===queue.length&&executeNext(),d.promise}}})}!function(angular){"use strict";angular.module("grft.about.controller",["ui.router","goto","grft.about.resource"]).controller("about",function($stateParams,$scope,goto,Contact,$rootElement){$scope.result={contact:{success:void 0,errors:void 0}},$scope.scroll=function(){return goto($stateParams.init?"#"+$stateParams.init:"#about-top")},$scope.$on("$viewContentLoaded",function(){$scope.imageLoadedCount=0,$scope.viewImages=$rootElement.find("#about-top").find("img"),$scope.viewImages.load(function(){$scope.imageLoadedCount+=1,$scope.imageLoadedCount===$scope.viewImages.length&&$scope.scroll()})}),$scope.$on("$destroy",function(){$scope.viewImages.unbind("load")}),$scope["goto"]=goto,$scope.msg=new Contact,$scope.status={err:{contact:null}},$scope.sideMenuModel=[{id:"about-us",label:"Overview"},{id:"team",label:"Team"},{id:"partners",label:"Partners"},{id:"contact-us",label:"Contact Us"},{id:"careers",label:"Careers"},{id:"in-the-news",label:"In the News"}],$scope.sendMsg=function(){$scope.msg.$save().then(function(){$scope.msg=new Contact,$scope.result.contact.success=!0},function(data){$scope.result.contact.success=!1,$scope.result.contact.errors={code:data.status,data:data.data}})},$scope.cleanContactFormStatus=function(){$scope.contactForm.$setPristine(),$scope.result.contact.success=void 0}})}(angular),function(angular){"use strict";angular.module("grft.about.resource",["ngResource","API"]).factory("Contact",function($resource,api){return $resource(api("contact"))})}(angular),function(angular){"use strict";angular.module("grft.about.route",["ui.router","grft.about.parts.sidenav.directive","grft.about.controller"]).config(function($stateProvider){$stateProvider.state("about",{url:"/about/:init",templateUrl:"about/view.html",controller:"about",data:{preventScrollResetOnSameState:!0}})})}(angular),function(angular){"use strict";angular.module("grft.disclaimer.route",["ui.router","grft.privacy.route","grft.terms.route"]).config(function($stateProvider){$stateProvider.state("disclaimer",{url:"/disclaimer",templateUrl:"disclaimer/view.html"})})}(angular),function(angular){"use strict";angular.module("grft.education.route",["ui.router"]).config(function($stateProvider){$stateProvider.state("education",{url:"/education",templateUrl:"static/frontend/education/view.html"})})}(angular),function(angular){"use strict";angular.module("grft.faq.controller",["ui.router","goto"]).controller("faq",function($scope,goto,$stateParams){$stateParams.init&&goto("#"+$stateParams.init,1400),$scope["goto"]=goto})}(angular),function(angular){"use strict";angular.module("grft.faq.route",["ui.router","grft.faq.controller"]).config(function($stateProvider){$stateProvider.state("faq",{url:"/faq?init",templateUrl:"faq/view.html",controller:"faq"})})}(angular),function(angular){"use strict";angular.module("grft.home.route",["ui.router","grft.startup.gate.route","grft.startup.list.route"]).config(function($stateProvider){$stateProvider.state("home",{url:"/",templateUrl:"home/view.html"})})}(angular),function(angular){"use strict";angular.module("grft.privacy.route",["ui.router","grft.disclaimer.route","grft.terms.route"]).config(function($stateProvider){$stateProvider.state("privacy",{url:"/privacy",templateUrl:"privacy/view.html"})})}(angular),function(angular){"use strict";angular.module("grft.successguide.controller",["ui.router"]).controller("successguide",function($scope){$scope.title="Success Guide"})}(angular,$),function(angular){"use strict";angular.module("grft.successguide.route",["ui.router","grft.successguide.controller"]).config(function($stateProvider){$stateProvider.state("successguide",{url:"/successguide",templateUrl:"successguide/form.html",controller:"successguide"}).state("successguide.one",{url:"/one",parent:"successguide",templateUrl:"successguide/form-one.html"}).state("successguide.two",{url:"/two",parent:"successguide",templateUrl:"successguide/form-two.html"}).state("successguide.three",{url:"/three",parent:"successguide",templateUrl:"successguide/form-three.html"}).state("successguide.four",{url:"/four",parent:"successguide",templateUrl:"successguide/form-four.html"}).state("successguide.five",{url:"/five",parent:"successguide",templateUrl:"successguide/form-five.html"}).state("successguide.six",{url:"/six",parent:"successguide",templateUrl:"successguide/form-six.html"}).state("successguide.seven",{url:"/seven",parent:"successguide",templateUrl:"successguide/form-seven.html"})})}(angular),function(angular){"use strict";angular.module("grft.terms.route",["ui.router","grft.privacy.route"]).config(function($stateProvider){$stateProvider.state("terms",{url:"/terms",templateUrl:"terms/view.html"})})}(angular),function(angular){"use strict";angular.module("grft.account.oauth.config",[]).value("OAuthConfigPrivate",function(width,height){this.width=width||"480",this.height=height||"640",this.location="yes",this.menubar="yes",this.resizable="yes",this.status="yes",this.titlebar="yes",this.toolbar="no",this.dialog="yes",this.toString=function(){var index,el,ret="";for(index in this)this.hasOwnProperty(index)&&(el=this[index],"string"!=typeof el&&"number"!=typeof el||(ret+=index+"="+el+","));return ret.slice(0,ret.length-1)}})}(angular),function(ng){"use strict";ng.module("grft.account.oauth.resources",["ngResource","API"]).factory("OAuthStatus",["$resource","api",function(r,a){return r(a("/user","oauth",":provider","status"),{provider:"@provider"})}]).factory("OAuthConnection",["$resource","api",function(r,a){return r(a("/user","oauth",":provider"),{provider:"@provider"})}])}(angular),function(angular){"use strict";angular.module("grft.account.oauth",["ui.router","toaster","grft.services.notify","grft.account.oauth.config","grft.account.oauth.resources","API"]).factory("oAuthPopupService",function($window,api,$rootScope,$interval,OAuthConfigPrivate,$q){return function(oAuthProvider,windowWidth,windowHeight){var oauthLoginComplete=$q.defer(),config=new OAuthConfigPrivate(windowWidth,windowHeight),whl=$window.open(api("/user","oauth","auth",oAuthProvider+"?popup=true"),"_blank",config.toString()),closeCheckPromise=$interval(function(){whl.closed&&($interval.cancel(closeCheckPromise),$rootScope.user.$get().then(function(user){user.oauth_id&&user.oauth_id[oAuthProvider]?oauthLoginComplete.resolve(user):oauthLoginComplete.reject({status:417,data:{oauth_id:["The ID couldn't be connected"]}})})["catch"](oauthLoginComplete.reject))},100);return oauthLoginComplete.promise}}).factory("oAuthPopupLogin",function($state,$rootScope,$q,OAuthStatus,oAuthPopupService,successLogin,toaster){return function($scope,ProviderName,width,height,preventRedirect,preventToast){$scope.state.attemptLogin=!0;var completed=oAuthPopupService(ProviderName,width,height),promise=$q.defer(),status=new OAuthStatus;return status.provider=ProviderName,completed.then(function(data){$scope.state.attemptLogin=!1,preventToast||successLogin(data.firstname,data.lastname,data.email),preventRedirect||$state.go($rootScope.previousState||"home"),promise.resolve(data)})["catch"](function(){$scope.state.attemptLogin=!1,status.$get().then(function(data){data?(Object.keys(data).forEach(function(field){"$"!==field[0]&&data[field]instanceof Array&&data[field].forEach(function(message){toaster.pop("warning","Notification ("+field+")",message)})}),promise.resolve("verification required")):(toaster.pop("warning","Login Failure","Failed to login through OAuth."),promise.reject())})}),promise.promise}})}(angular),function(angular){"use strict";angular.module("grft.account.controller.confirm",["ui.router","grft.resources.user","errorReporter","toaster"]).controller("confirm_account",function($rootScope,toaster,$state,$stateParams,Activation,error){var request=new Activation;request.uid=$stateParams.uid,request.$save().then(function(){toaster.pop("success","Account Activated","Your account has been successfully activated."),$rootScope.user.$get()["catch"](error("User information fetch failed","User information fetch error")),$state.go($stateParams.redirect_state||"home")})["catch"](error("Activation failed","Activation failed with critical error"))})}(angular),function(angular){"use strict";angular.module("grft.account.confirm.route",["ui.router","grft.account.controller.confirm","grft.resources.account"]).config(function($stateProvider){$stateProvider.state("account_confirm",{url:"/activate/:uid?redirect_state",rejectWhenLoggedin:!0,preventWritePreviousState:!0,controller:"confirm_account"})})}(angular),function(angular){"use strict";angular.module("grft.account.edit.controller",["ui.router","toaster","errorReporter","grft.account.edit.resource","grft.resources.advisor","grft.account.oauth","grft.account.oauth.resources","grft.account.common.constants","grft.common.constants"]).controller("myaccount_controller",function($q,$rootScope,$scope,$state,toaster,oAuthPopupLogin,OAuthConnection,states_list,Address,FacePhoto,error){var streetShouldBeAddress=function(){$scope.address.street||($scope.address.street=[])};$scope.routeState=$state,$scope.state={},$scope.address=Address.get(void 0,streetShouldBeAddress,streetShouldBeAddress),$scope.profilePicture={info:FacePhoto.Info.get(),selection:FacePhoto.Selection.get()},$scope.boolean_selector=[{label:"No",value:!1},{label:"Yes",value:!0}],$scope.states_list=states_list,$scope.isEditing={basic_info:!1,investor_info:!1,accredited_investor:!1},$scope.$on("pwedit.success",function(){toaster.pop("success","Password Saved","Your password is now saved")}),$scope.$on("pwedit.fail",function(event,errorData){error("Warning on saving your password","Error on saving your password")(errorData)}),$scope.openOAuthDialog=function(service,width,height){oAuthPopupLogin($scope,service,width,height,!0,!0).then(function(){return $rootScope.user.$get()}).then(function(){toaster.pop("success","Social Auth Connected","Your Social Authentication ("+service+") has been connected.")})["catch"](error("Warning on connecting social Authentication","Warning on connecting social Authentication"))},$scope.toggleConnect=function(service,width,height){var oauth=new OAuthConnection;oauth.provider=service,$rootScope.user.oauth_id&&$rootScope.user.oauth_id[service]?oauth.$delete().then(function(){return $rootScope.user.$get()}).then(function(){toaster.pop("success","Social Auth Disconnected","Your Social Authentication ("+service+") has been disconnected.")})["catch"](error("Warning on disconnecting Social Authentication","Error on disconnecting Social Authentication")):$scope.openOAuthDialog(service,width,height)},$scope.updateBasicInfo=function(){$q.all([$rootScope.user.$update(),$scope.address.$update()]).then(function(){toaster.pop("success","Profile Updated","Your profile is successfully updated"),$scope.isEditing.basicInfo=!1})["catch"](function(values){values instanceof Array?values.forEach(error("Warning","Error")):values&&error("Warning on saving your basic profile","Error on saving your basic profile")(values)})},$scope.updateProfilePicture=function(){var pictureUploadPromise;$scope.profilePicture.info.body&&(pictureUploadPromise=$scope.profilePicture.info.id?$scope.profilePicture.info.$update().then(function(){return $scope.profilePicture.selection.$update()}):$scope.profilePicture.info.$save().then(function(){return $scope.profilePicture.selection.$update()}).then(function(){return $scope.profilePicture.info.$get()}),pictureUploadPromise.then(function(){$rootScope.user.$get(),$rootScope.refreshProfilePictureOnRightMenu&&$rootScope.refreshProfilePictureOnRightMenu(),toaster.pop("success","Face photo updated","Your face photo has been updated successfully.")})["catch"](function(values){var errFunc=error("Warning on saving face photo","Error on saving face photo");values instanceof Array?values.forEach(errFunc):values&&errFunc(values)}))}}).controller("myacountAdvisorController",function($scope,MyAdvisor){$scope.industries=MyAdvisor.interests.get(),$scope.qualifications=MyAdvisor.accerdited.get(),$scope.investments=MyAdvisor.invest_types.get(),$scope.relatedJob=MyAdvisor.related_employment.get(),$scope.lastJob=MyAdvisor.last_employment.get(),$scope.resume=MyAdvisor.resume.get(),$scope.education=MyAdvisor.education.get(),$scope.expertise=MyAdvisor.expertise.get(),$scope.status=MyAdvisor.status.get(),$scope.industriesLabels=[["types","Which Industries are you advising on?"]],$scope.qualificationLabels=[["qualifications","What are your qualifications?"]],$scope.investmentLabels=[["types","What are your current investments?"]],$scope.relevantJobLabels=[["period","Which year did you being in this field?",0],["description","Describe your job in this field"],["title","What was your title"],["period","When did you end that job?",1],["employer","Who was your employer?"],["currently_working","What do you currently do?"]],$scope.lastJobLabels=[["period","When did you begin?",0],["description","Please describe your job"],["title","What was your title"],["period","When did you leave that job?",1],["employer","Who was your employer?"],["currently_working","last_job.currently_working"]],$scope.educationLabels=[["school","Where did you go to school?"],["bachelors_school","Where did you get your degree?"],["specialization","What was your specialization?"],["level","What is your current education level?"]],$scope.expertiseLabels=[["level","What is your expertise Level?"]],$scope.statusLabels=[["is_public","Do you want your profile to be publically available?"]],$scope.convertYesNo=function(value){return"boolean"==typeof value?value?"Yes":"No":value}}).controller("notificationController",["$scope","$rootScope","NotificationLevel","error",function(scope,root,Notification,err){scope.model=Notification.get(),scope.send=function(){scope.model.$update().then(function(){return root.user.$get()})["catch"](err("Warning on changing notification level","Error on changing notificaiton level"))}}]).controller("investorInfoController",["$scope","$q","InvestorInfo","toaster","error","investment_industries","geographic_areas","investment_types","investment_goals","investment_attributes",function(scope,q,Investor,toaster,err,industries,areas,types,goals,attrs){scope.geographic_areas=areas,scope.investment_industries=industries,scope.investment_types=types,scope.investment_goals=goals,scope.investment_attributes=attrs,scope.investorInfo=Investor.basicInfo.get(void 0,function(){scope.filled=!0}),scope.collegeAffinity=Investor.collegeAffinity.get(),scope.interest=Investor.interest.get(),scope.investment=Investor.investment.get(),scope.send=function(){scope.filled=!0,scope.investorInfo.$update().then(function(){return q.all([scope.collegeAffinity.$update(),scope.interest.$update(),scope.investment.$update(),scope.address.$update()])}).then(function(){toaster.pop("success","Your profile Updated","Your investor profile has been updated.")})["catch"](function(values){var errFunc=err("Warning on updating your investor profile","Error on updating your investor profile");values instanceof Array?values.forEach(errFunc):values&&errFunc(values)})},scope.send_investment_amounts=function(){scope.isEditing.accredited_investor=!1,scope.investorInfo.$update().then(function(){return scope.investment.$update()}).then(function(){toaster.pop("success","Your profile Updated","Your investment amounts have been updated.")})["catch"](function(values){var errFunc=err("Warning on updating your investment amounts","Error on updating your investment amounts");values instanceof Array?values.forEach(errFunc):values&&errFunc(values)})}}]).controller("infoQFormController",["$scope",function(scope){scope.setEdit=function(){var unwatch=scope.$watch("investorQForm",function(form){form&&(scope.investorQForm.editing=scope.isEditing.investor_info,unwatch())},!0)},scope.infoQFormSubmitHandler=function(){scope.investorQForm.editing&&scope.send(),scope.investorQForm.editing=!scope.investorQForm.editing}}]).controller("investmentAmountController",["$scope",function(scope){scope.investmentAmountSubmitHandler=function(){scope.investmentAmountForm.editing&&scope.send(),scope.investmentAmountForm.editing=!scope.investmentAmountForm.editing}}])}(angular),function(ng){"use strict";ng.module("grft.account.edit.resource",["ngResource","API"]).factory("Address",["$resource","api",function(r,a){return r(a("/user","info","me","address"),{},{update:{method:"PUT"}})}]).factory("FacePhoto",["$resource","api",function(r,a){return{Info:r(a("/user","info","me","facephoto"),{},{update:{method:"PUT"}}),Selection:r(a("/user","info","me","facephoto","selection"),{},{update:{method:"PUT"}})}}]).factory("NotificationLevel",["$resource","api",function(r,a){return r(a("/user","info","me","notification"),{},{update:{method:"PUT"}})}]).factory("InvestorInfo",["$resource","api",function(r,a){return{basicInfo:r(a("/investor","me"),{},{update:{method:"PUT"}}),collegeAffinity:r(a("/investor","me","collegeaffinity"),{},{update:{method:"PUT"}}),interest:r(a("/investor","me","interest"),{},{update:{method:"PUT"}}),investment:r(a("/investor","me","investment"),{},{update:{method:"PUT"}})}}])}(angular),function(angular){"use strict";angular.module("grft.account.edit.route",["ui.router","mgcrea.ngStrap","ngMessages","ngSanitize","grft.account.edit.parts.forms.pwedit.directive","grft.resources.advisor","grft.common.file.directive","grft.account.edit.controller"]).config(function($stateProvider){$stateProvider.state("account",{url:"/me",loginRequired:!0,controller:"myaccount_controller",templateUrl:"account/edit/view.html"}).state("account.notification",{url:"/notify",loginRequired:!0,controller:"notificationController",templateUrl:"account/edit/notification.html"}).state("account.infoForInvestors",{url:"/info/invest",loginRequired:!0,controller:"investorInfoController",templateUrl:"account/edit/infoForInvestors.html"}).state("account.infoForAdvisors",{url:"/info/advisor",controller:"myacountAdvisorController",loginRequired:!0,templateUrl:"account/edit/infoForAdvisors.html"}).state("account.companyInfo",{url:"/info/company",loginRequired:!0,templateUrl:"account/edit/companyInfo.html"})})}(angular),function(angular){"use strict";angular.module("grft.account.controller.info",["ui.router","grft.account.info.constants","grft.account.oauth.config","toaster"]).controller("account.info",function($scope,$http,$state,gis_user_placeholder,toaster,yesno){$scope.uploadProfile=function(edit,prevent_success_toast){$scope.user.$update().then(function(){prevent_success_toast||toaster.pop("success","Profile Updated","Your profile is now updated")},function(err){toaster.pop("error","Profile Updated failed","Updating your profile is failed. \n"+err.data.message)})},$scope.yesno=yesno,$scope.gis_user=gis_user_placeholder;var setInitialState=function(){$scope.gis_user.previous_address=$scope.user.previous_address,$scope.gis_user.previous_address.to_date=new Date($scope.user.previous_address.to_date),$scope.gis_user.previous_address.from_date=new Date($scope.user.previous_address.from_date),$scope.gis_user.applicant_info.first_name=$scope.user.firstname,$scope.gis_user.applicant_info.middle_name=$scope.user.middlename,$scope.gis_user.applicant_info.last_name=$scope.user.lastname,$scope.gis_user.applicant_info.birth_date=new Date($scope.user.birthdate),$scope.gis_user.applicant_info.ssn=$scope.user.ssn,$scope.gis_user.applicant_info.current_address=$scope.user.address.street[0],$scope.gis_user.applicant_info.current_city=$scope.user.address.city,$scope.gis_user.applicant_info.current_state=$scope.user.address.state,$scope.gis_user.applicant_info.current_zip=$scope.user.address.zip,$scope.gis_user.applicant_info.current_county=$scope.user.address.county,$scope.gis_user.applicant_info.aliases=$scope.user.aliases,$scope.gis_user.position_applied.state=$scope.user.position_applied.state};$scope.user&&$scope.user.$promise&&$scope.user.$promise.then(setInitialState),$scope.submit=function(){$scope.user.previous_address=$scope.gis_user.previous_address,$scope.user.firstname=$scope.gis_user.applicant_info.first_name,$scope.user.middlename=$scope.gis_user.applicant_info.middle_name,$scope.user.lastname=$scope.gis_user.applicant_info.last_name,$scope.user.birthdate=$scope.gis_user.applicant_info.birth_date,$scope.user.ssn=$scope.gis_user.applicant_info.ssn,$scope.user.address.street[0]=$scope.gis_user.applicant_info.current_address,$scope.user.address.city=$scope.gis_user.applicant_info.current_city,$scope.user.address.state=$scope.gis_user.applicant_info.current_state,$scope.user.address.zip=$scope.gis_user.applicant_info.current_zip,$scope.user.address.county=$scope.gis_user.applicant_info.current_county,$scope.user.aliases=$scope.gis_user.applicant_info.aliases,$scope.user.position_applied.state=$scope.gis_user.position_applied.state,$scope.uploadProfile("basic_info"),$http.post("https://api.intelligentcrowd.com/background-check",$scope.gis_user).success(function(){$state.go("user-info.success")}).error(function(){toaster.pop("error","Sorry, your information could not be accepted")})}})}(angular),function(angular){"use strict";angular.module("grft.account.info.route",["ui.router","grft.account.controller.info"]).config(function($stateProvider){$stateProvider.state("user-info",{url:"/user-info",loginRequired:!0,templateUrl:"account/info/view.html",controller:"account.info"}).state("user-info.success",{url:"/success",templateUrl:"account/info/success.html",loginRequired:!0})})}(angular),function(angular){"use strict";angular.module("grft.account.controller.login",[]).controller("account.login",function($scope){$scope.state={mode:"login"}})}(angular),function(angular){"use strict";angular.module("grft.resources.account",["ngResource","API"]).factory("LoginResource",function($resource,api){return $resource(api("/account/login"),{},{login:{method:"POST"},logout:{method:"GET",url:api("/account/logout")},send_reset:{method:"POST",url:api("/account/send-reset-link")},confirm_email:{method:"POST",url:api("/account/confirmation")},recover_pw:{method:"POST",url:api("/account/reset")},signup:{method:"POST",url:api("/account/signup")}})})}(angular),function(angular){"use strict";angular.module("grft.account.login.route",["grft.account.controller.login","grft.login.directive","ui.router"]).config(function($stateProvider){$stateProvider.state("login",{url:"/login",templateUrl:"account/login/view.html",rejectWhenLoggedin:!0,preventWritePreviousState:!0,controller:"account.login"})})}(angular),function(angular){"use strict";angular.module("grft.account.recover.route",["ui.router","grft.recover.directive"]).config(function($stateProvider){$stateProvider.state("login-recover",{url:"/login/recover",templateUrl:"account/recover/view.html",rejectWhenLoggedin:!0,preventWritePreviousState:!0})})}(angular),function(angular){"use strict";angular.module("grft.account.controller.reset",["ui.router","toaster","errorReporter","grft.resources.user"]).controller("account.reset",function($rootScope,$scope,$state,$stateParams,toaster,PasswordReset,error){$scope.request=new PasswordReset,$scope.request.token=$stateParams.token,$scope.request.uid=$stateParams.uid,console.log($scope.request.token),$scope.password_reset=function(){$scope.request.$update().then(function(){toaster.pop("info","Password Reset","Password has been reset."),$rootScope.user.$get(),$state.go($stateParams.redirect_state||"home")})["catch"](error("Warning on password resetting","Error on password resetting"))}})}(angular),function(angular){"use strict";angular.module("grft.account.reset.route",["grft.account.controller.reset","ui.router"]).config(function($stateProvider){$stateProvider.state("login-reset-password",{url:"/reset/:uid?token&redirect_state",templateUrl:"account/reset/view.html",rejectWhenLoggedin:!0,preventWritePreviousState:!0,controller:"account.reset"})})}(angular),function(angular){"use strict";angular.module("grft.account.signup.route",["grft.signup.directive","ui.router"]).config(function($stateProvider){$stateProvider.state("sign-up",{url:"/sign-up",templateUrl:"account/signup/view.html",rejectWhenLoggedin:!0,preventWritePreviousState:!0})})}(angular),function(angular){"use strict";angular.module("grft.resources.user",["ngResource","API"]).factory("Me",function($resource,api){return $resource(api("/user","info","me"),{},{update:{method:"PUT"}})}).factory("User",function($resource,api){return $resource(api("/user/info/:id"),{id:"@id"})}).factory("UserSession",function($resource,api){return $resource(api("/user/session"))}).factory("Activation",function($resource,api){return $resource(api("/user/activate"))}).factory("PasswordReset",function($resource,api){return $resource(api("/user/resetpw"),{},{update:{url:api("/user/resetpw/:uid"),params:{uid:"@uid"},method:"PUT"}})})}(angular),function(angular){"use strict";angular.module("grft.resources.advisor",["ngResource","API"]).factory("MyAdvisor",function($resource,api){return{status:$resource(api("/advisor","me","status")),expertise:$resource(api("/advisor","me","expertise")),last_employment:$resource(api("/advisor","me","employment","last")),related_employment:$resource(api("/advisor","me","employment","related")),education:$resource(api("/advisor","me","education")),accerdited:$resource(api("/advisor","me","accerdited")),interests:$resource(api("/advisor","me","interests")),invest_types:$resource(api("/advisor","me","invest-types")),resume:$resource(api("/advisor","me","resume"),{},{update:{method:"PUT"}})}})}(angular),function(ng){"use strict";ng.module("grft.advisor.find.controller",["formDirtyChecker","grft.advisor.find.resource","grft.advisor.constants","errorReporter","formatAddress"]).controller("findAdvisorFormController",["$scope","$state","$filter","$q","FindAdvisor","states_list","industry_list","isDirtyAndInvalid","error",function(scope,state,filter,q,Find,states,industries,isDirty,error){var setSpeciality=function(){scope.model.specialities instanceof Array||(scope.model.specialities=[])};scope.model=Find.companySumamry.get(void 0,setSpeciality,setSpeciality),scope.address=Find.companyAddress.get(),scope.industry_list=industries,scope.logo={data:Find.logo.data.get(),selection:Find.logo.selection.get()},scope.needsAlert=isDirty,scope.states=states,scope.formatAddress=filter("address"),scope.submit=function(){var submitPromise;submitPromise=scope.model.id?scope.model.$update():scope.model.$save(),submitPromise.then(function(){var logoUploadPromise;return scope.logo.data.body?(logoUploadPromise=scope.logo.data.id?scope.logo.data.$update():scope.logo.data.$save(),logoUploadPromise=logoUploadPromise.then(function(){scope.logo.selection.$update()}),q.all([scope.address.$update(),logoUploadPromise])):scope.address.$update()}).then(function(){state.go("findAdvisorFormFin")})["catch"](function(err){var errFunc=error("Warning on Submitting Find Advisor Request","Error on Submitting Find Advisor Request");err instanceof Array?err.forEach(errFunc):err&&errFunc(err)})}}])}(angular),function(ng){"use strict";ng.module("grft.advisor.find.resource",["ngResource","API"]).factory("FindAdvisor",["$resource","api",function(r,api){return{companySumamry:r(api("/advisor","find")),companyAddress:r(api("/advisor","find","address"),{},{update:{method:"PUT"}}),logo:{data:r(api("/advisor","find","logo"),{},{update:{method:"PUT"}}),selection:r(api("/advisor","find","logo","selection"),{},{update:{method:"PUT"}})}}}])}(angular),function(angular){"use strict";angular.module("grft.advisor.find.route",["ui.router","mgcrea.ngStrap","placeholder","grft.advisor.find.controller","toggleSelection"]).config(function($stateProvider){$stateProvider.state("findAdvisorForm",{url:"/advisor/find",controller:"findAdvisorFormController",templateUrl:"advisor/find/form.html"}).state("findAdvisorFormFin",{url:"/advisor/find/finish",templateUrl:"advisor/find/finish.html"})})}(angular),function(angular){"use strict";angular.module("grft.advisor.controller.gate",["grft.resources.advisor","grft.resources.config"]).controller("advisor_gate",function($scope,$q,MyAdvisor){$scope.advisor=MyAdvisor.status.get(),$scope.$watch("user.email",function(newValue){newValue&&$scope.advisor.$get()}),$scope.form_state={login_mode:"signup"},$scope.reset_advisor=function(){var defer=$q.defer();return $scope.advisor.$delete().then(function(){$scope.advisor=MyAdvisor.status.get(),defer.resolve()}),defer.promise}})}(angular),function(angular){"use strict";angular.module("grft.advisor.gate.route",["ui.router","grft.common.date.localizedFilter","grft.resources.advisor","grft.resources.config","grft.advisor.wizard.route","grft.advisor.controller.gate"]).config(function($stateProvider){$stateProvider.state("advisor-gate",{url:"/advisor",templateUrl:"advisor/gate/view.html",controller:"advisor_gate"})})}(angular),function(angular){"use strict";angular.module("grft.advisor.constants",[]).constant("boolean_options",[{label:"Yes",value:!0},{label:"No",value:!1}]).constant("privacy_options",[{label:"Public",value:!0},{label:"Private",value:!1}]).constant("expertise_levels",["C-Level","Partner / Senior Management","Management","Subject Matter Expert","Other"]).constant("education_levels",["PHD / Post Doctoral","Graduate Degree","Bachelors Degree","Associates Degree","High School"]).constant("education_levels_has_bachelors",["PHD / Post Doctoral","Graduate Degree"]).constant("investment_types",["Start-up","Private investment in an existing business","Venture Capital fund","Private Equity fund","Real Estate (investment, not resident/vacation property)","Other alternative investment","Stocks","Bonds"]).constant("industry_list",["Advertising","Aerospace","Agriculture","Artist","Chemicals","Construction","Consulting","Defense","Education","Energy","Engineering","Entertainment/Television","Fashion","Finance/Accounting","Food/Beverage/Tobacco","Health Care, Provider","Health Care, Research","Health Care, Service/Administrative","Legal","Publishing/Writing","Real Estate","Retail","Technology, software-focus","Technology, hardware-focus","Transportation","Other"])}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers",["ui.router","formDirtyChecker","grft.account.edit.resource","grft.advisor.constants","grft.resources.advisor","grft.common.constants"])}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.route",["ui.router","toggleSelection","grft.common.numberDistanceValidation.directive","grft.common.dynamicRange.directive","grft.common.statusbutton.directive","grft.advisor.wizard.parts.forms.info.jobs.directive","grft.resources.advisor","grft.common.file.directive","grft.advisor.wizard.controllers"]).config(function($stateProvider){
$stateProvider.state("advisor_wizard",{url:"/advisor/wizard",templateUrl:"advisor/wizard/view.html",loginRequired:!0,controller:"baseController"}).state("advisor_wizard.expertise",{url:"/expertise",templateUrl:"advisor/wizard/parts/steps/expertise_level.html",loginRequired:!0,controller:"expertLevelController"}).state("advisor_wizard.info",{url:"/info",templateUrl:"advisor/wizard/parts/steps/info.html",loginRequired:!0,controller:"advisorInfoController"}).state("advisor_wizard.invest",{url:"/invest",templateUrl:"advisor/wizard/parts/steps/invest_level.html",loginRequired:!0,controller:"confirmController"}).state("advisor_wizard.meanwhile",{url:"/meanwhile",templateUrl:"advisor/wizard/parts/steps/apply_meanwhile.html",loginRequired:!0}).state("advisor_wizard.category",{url:"/category",templateUrl:"advisor/wizard/parts/steps/category.html",loginRequired:!0,controller:"categoryController"}).state("advisor_wizard.resume",{url:"/resume",templateUrl:"advisor/wizard/parts/steps/resume_profile_picture.html",loginRequired:!0,controller:"resumeController"}).state("advisor_wizard.privacy",{url:"/privacy",templateUrl:"advisor/wizard/parts/steps/privacy.html",controller:"privacyController",loginRequired:!0})})}(angular),function(angular){"use strict";angular.module("grft.calculators.businessworth.controller",["ui.router"]).controller("businessworth",function($scope){$scope.title="What's My Business Worth?"})}(angular,$),function(angular){"use strict";angular.module("grft.calculators.businessworth.route",["ui.router","grft.calculators.businessworth.controller"]).config(function($stateProvider){$stateProvider.state("businessworth",{url:"/businessworth",templateUrl:"calculators/businessworth/form.html",controller:"businessworth"}).state("businessworth.intro",{url:"/intro",parent:"businessworth",templateUrl:"calculators/businessworth/form-intro.html"}).state("businessworth.established",{url:"/established",parent:"businessworth",templateUrl:"calculators/businessworth/form-established.html"}).state("businessworth.startup",{url:"/startup",parent:"businessworth",templateUrl:"calculators/businessworth/form-startup.html"})})}(angular),function(angular,$){"use strict";angular.module("grft.calculators.capitalraise.controller",["ui.router"]).controller("capitalraise",function($scope,$state){$scope.title="Capital Raise Calculator",$scope.max=0,$scope.statusBtnModel=[{label:"Intro"},{label:"Step 1"},{label:"Step 2"},{label:"Finish"}],$scope.statusBtnClicked=function(index){$state.go($scope.formStates[index])},$scope.currentFormState=0,$scope.index=0,$scope.prevIndex=0,$scope.formStates=["capitalraise.intro","capitalraise.one","capitalraise.two","capitalraise.totals"],0===$scope.currentFormState&&$state.current.name!==$scope.formStates[0]&&$state.go($scope.formStates[0]),$scope.next=function(nextIdx,form){if(form&&form.$valid!==!0)return!1;var idx=0;nextIdx>$scope.currentFormState?($scope.currentFormState+=1,$scope.index+=1,$scope.max+=1,idx=$scope.currentFormState):($scope.index=nextIdx,$scope.max=$scope.index,idx=nextIdx),$state.go($scope.formStates[idx])},$scope.formQuestions={excessCash:null,cashOnHand:null,firstYearExpenses:null,secondYearExpenses:null,workingCapital:50,grossMargin:50,addMonthlyExpenses:null,capExpenditures:null,cashTaxRate:50,annualInterestExp:null,yearOneProjRev:null,yearTwoProjRev:null},$scope.$watch("formQuestions.workingCapital",function(val){$scope.formQuestions.workingCapital=parseInt(val,10)}),$scope.$watch("formQuestions.grossMargin",function(val){$scope.formQuestions.grossMargin=parseInt(val,10)}),$scope.$watch("formQuestions.cashTaxRate",function(val){$scope.formQuestions.cashTaxRate=parseInt(val,10)}),$scope.totals={revenue:[0,0],grossProfit:[0,0],operatingExpenses:[0,0],operatingProfit:[0,0],interestExpense:[0,0],preTaxProfit:[0,0],taxes:[0,0],netIncome:[0,0],workingCapitalNeeds:[0,0],capitalExpenditures:[0,0],totalCashGenerated:[0,0],existingCashOnHand:0,necessaryCashBuffer:0,additionalCashNeededYearOne:0,additionalCashNeededYearTwo:0,capitalRaise:0,fiftyPercent:{revenue:[0,0],grossProfit:[0,0],operatingExpenses:[0,0],operatingProfit:[0,0],interestExpense:[0,0],preTaxProfit:[0,0],taxes:[0,0],netIncome:[0,0],workingCapitalNeeds:[0,0],capitalExpenditures:[0,0],totalCashGenerated:[0,0],existingCashOnHand:[0,0],necessaryCashBuffer:[0,0],additionalCash:[0,0]},recommendedCapitalRaise:0,recommendedCapitalRaiseString:""},$scope.calculateTotals=function(form){if(form.$valid!==!0)return!1;var recRaise,workingCapital=$scope.formQuestions.workingCapital/100,workingCapital2=$scope.formQuestions.workingCapital/100*$scope.formQuestions.yearTwoProjRev,grossMargin=$scope.formQuestions.grossMargin/100,cashTaxRate=$scope.formQuestions.cashTaxRate/100,annualInterestExp=$scope.formQuestions.annualInterestExp;$scope.totals.revenue[0]=parseFloat($scope.formQuestions.yearOneProjRev),$scope.totals.grossProfit[0]=$scope.totals.revenue[0]*grossMargin,$scope.totals.operatingExpenses[0]=parseFloat($scope.formQuestions.firstYearExpenses),$scope.totals.operatingProfit[0]=$scope.totals.grossProfit[0]-$scope.totals.operatingExpenses[0],$scope.totals.interestExpense[0]=parseFloat(annualInterestExp),$scope.totals.preTaxProfit[0]=$scope.totals.operatingProfit[0]-$scope.totals.interestExpense[0],$scope.totals.taxes[0]=$scope.totals.preTaxProfit[0]*cashTaxRate,$scope.totals.netIncome[0]=$scope.totals.preTaxProfit[0]-$scope.totals.taxes[0],$scope.totals.workingCapitalNeeds[0]=workingCapital*$scope.totals.revenue[0],$scope.totals.capitalExpenditures[0]=parseFloat($scope.formQuestions.capExpenditures),$scope.totals.totalCashGenerated[0]=$scope.totals.netIncome[0]-$scope.totals.workingCapitalNeeds[0]-$scope.totals.capitalExpenditures[0],$scope.totals.revenue[1]=parseFloat($scope.formQuestions.yearTwoProjRev),$scope.totals.grossProfit[1]=$scope.totals.revenue[1]*grossMargin,$scope.totals.operatingExpenses[1]=parseFloat($scope.formQuestions.secondYearExpenses),$scope.totals.operatingProfit[1]=$scope.totals.grossProfit[1]-$scope.totals.operatingExpenses[1],$scope.totals.interestExpense[1]=parseFloat(annualInterestExp),$scope.totals.preTaxProfit[1]=$scope.totals.operatingProfit[1]-$scope.totals.interestExpense[1],$scope.totals.taxes[1]=$scope.totals.preTaxProfit[1]*cashTaxRate,$scope.totals.netIncome[1]=$scope.totals.preTaxProfit[1]-$scope.totals.taxes[1],$scope.totals.workingCapitalNeeds[1]=workingCapital2,$scope.totals.capitalExpenditures[1]=0,$scope.totals.totalCashGenerated[1]=$scope.totals.netIncome[1]-$scope.totals.workingCapitalNeeds[1]-$scope.totals.capitalExpenditures[1],$scope.totals.existingCashOnHand=parseFloat($scope.formQuestions.cashOnHand),$scope.totals.necessaryCashBuffer=parseFloat($scope.formQuestions.excessCash),$scope.totals.additionalCashNeededYearOne=$scope.totals.necessaryCashBuffer-$scope.totals.existingCashOnHand-$scope.totals.totalCashGenerated[0],$scope.totals.additionalCashNeededYearTwo=$scope.totals.totalCashGenerated[1]>0?0:-$scope.totals.totalCashGenerated[1],$scope.totals.capitalRaise=$scope.totals.additionalCashNeededYearOne+$scope.totals.additionalCashNeededYearTwo,$scope.totals.fiftyPercent.revenue[0]=1.5*$scope.totals.revenue[0],$scope.totals.fiftyPercent.revenue[1]=1.5*$scope.totals.revenue[1],$scope.totals.fiftyPercent.grossProfit[0]=$scope.totals.fiftyPercent.revenue[0]*grossMargin,$scope.totals.fiftyPercent.grossProfit[1]=$scope.totals.fiftyPercent.revenue[1]*grossMargin,$scope.totals.fiftyPercent.operatingExpenses[0]=parseFloat($scope.formQuestions.firstYearExpenses)+parseFloat($scope.formQuestions.addMonthlyExpenses),$scope.totals.fiftyPercent.operatingExpenses[1]=parseFloat($scope.formQuestions.secondYearExpenses)+parseFloat($scope.formQuestions.addMonthlyExpenses),$scope.totals.fiftyPercent.operatingProfit[0]=$scope.totals.fiftyPercent.grossProfit[0]-$scope.totals.fiftyPercent.operatingExpenses[0],$scope.totals.fiftyPercent.operatingProfit[1]=$scope.totals.fiftyPercent.grossProfit[1]-$scope.totals.fiftyPercent.operatingExpenses[1],$scope.totals.fiftyPercent.interestExpense[0]=parseFloat(annualInterestExp),$scope.totals.fiftyPercent.interestExpense[1]=parseFloat(annualInterestExp),$scope.totals.fiftyPercent.preTaxProfit[0]=$scope.totals.fiftyPercent.operatingProfit[0]-$scope.totals.fiftyPercent.interestExpense[0],$scope.totals.fiftyPercent.preTaxProfit[1]=$scope.totals.fiftyPercent.operatingProfit[1]-$scope.totals.fiftyPercent.interestExpense[1],$scope.totals.fiftyPercent.taxes[0]=$scope.totals.fiftyPercent.preTaxProfit[0]*cashTaxRate,$scope.totals.fiftyPercent.taxes[1]=$scope.totals.fiftyPercent.preTaxProfit[1]*cashTaxRate,$scope.totals.fiftyPercent.netIncome[0]=$scope.totals.fiftyPercent.preTaxProfit[0]-$scope.totals.fiftyPercent.taxes[0],$scope.totals.fiftyPercent.netIncome[1]=$scope.totals.fiftyPercent.preTaxProfit[1]-$scope.totals.fiftyPercent.taxes[1],$scope.totals.fiftyPercent.workingCapitalNeeds[0]=workingCapital*$scope.totals.fiftyPercent.revenue[0],$scope.totals.fiftyPercent.workingCapitalNeeds[1]=workingCapital*$scope.totals.fiftyPercent.revenue[1],$scope.totals.fiftyPercent.capitalExpenditures[0]=parseFloat($scope.formQuestions.capExpenditures),$scope.totals.fiftyPercent.capitalExpenditures[1]=0,$scope.totals.fiftyPercent.totalCashGenerated[0]=$scope.totals.fiftyPercent.netIncome[0]-$scope.totals.fiftyPercent.workingCapitalNeeds[0]-$scope.totals.fiftyPercent.capitalExpenditures[0],$scope.totals.fiftyPercent.totalCashGenerated[1]=$scope.totals.fiftyPercent.netIncome[1]-$scope.totals.fiftyPercent.workingCapitalNeeds[1]-$scope.totals.fiftyPercent.capitalExpenditures[1],$scope.totals.fiftyPercent.existingCashOnHand[0]=parseFloat($scope.formQuestions.cashOnHand),$scope.totals.fiftyPercent.existingCashOnHand[1]=0,$scope.totals.fiftyPercent.necessaryCashBuffer[0]=parseFloat($scope.formQuestions.excessCash),$scope.totals.fiftyPercent.necessaryCashBuffer[1]=0,$scope.totals.fiftyPercent.additionalCash[0]=$scope.totals.fiftyPercent.necessaryCashBuffer[0]-$scope.totals.fiftyPercent.existingCashOnHand[0]-$scope.totals.fiftyPercent.totalCashGenerated[0],$scope.totals.fiftyPercent.additionalCash[1]=$scope.totals.fiftyPercent.totalCashGenerated[1]>0?0:-$scope.totals.fiftyPercent.totalCashGenerated[1],recRaise=Math.floor($scope.totals.fiftyPercent.additionalCash[0]+$scope.totals.fiftyPercent.additionalCash[1]),recRaise>$scope.totals.capitalRaise?$scope.totals.recommendedCapitalRaise=recRaise:$scope.totals.recommendedCapitalRaise=$scope.totals.capitalRaise,Math.abs($scope.totals.recommendedCapitalRaise)>1e10&&($scope.totals.recommendedCapitalRaise>0?$scope.totals.recommendedCapitalRaiseString="in excess of $10 Billion":$scope.totals.recommendedCapitalRaiseString="in excess of ($10 Billion)",$scope.totals.recommendedCapitalRaise=!1),$scope.next(3,!1)},$scope.$on("$viewContentLoaded",function(){$('[data-toggle="popover"]').popover({trigger:"hover click",placement:"auto",html:!0})}),$scope.$on("$stateChangeSuccess",function(ev,to){$scope.formStates.forEach(function(stateName,index){var expectedState=$state.get(stateName);to===expectedState&&($scope.index=index)})})})}(angular,$),function(angular){"use strict";angular.module("grft.calculators.capitalraise.route",["ui.router","currencyMask","grft.calculators.capitalraise.controller","grft.common.statusbutton.directive"]).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("capitalraise",{"abstract":!0,url:"/calcs/capitalraise",templateUrl:"calculators/capitalraise/form.html",controller:"capitalraise"}).state("capitalraise.intro",{url:"/intro",parent:"capitalraise",templateUrl:"calculators/capitalraise/form-intro.html"}).state("capitalraise.one",{url:"/one",parent:"capitalraise",templateUrl:"calculators/capitalraise/form-one.html"}).state("capitalraise.two",{url:"/two",parent:"capitalraise",templateUrl:"calculators/capitalraise/form-two.html"}).state("capitalraise.totals",{url:"/totals",parent:"capitalraise",templateUrl:"calculators/capitalraise/form-totals.html"}),$urlRouterProvider.when("/calcs/capitalraise","/calcs/capitalraise/intro")})}(angular),function(angular,d3,nv,$){"use strict";angular.module("grft.calculators.established.controller",["grft.calculators.service.industry"]).controller("established",function($scope,$state,Industry){$scope.title="Established Business Valuation  Calculator",$scope.currentFormState=0,$scope.index=0,$scope.max=0,$scope.statusBtnModel=[{label:"Intro"},{label:"Step 1"},{label:"Step 2"},{label:"Step 3"},{label:"Finish"}],$scope.statBtnClicked=function(index){$state.go($scope.formStates[index])},$scope.formStates=["established.intro","established.one","established.two","established.three","established.totals"],0===$scope.currentFormState&&$state.current.name!==$scope.formStates[0]&&$state.go($scope.formStates[0]),$scope.next=function(nextIdx,form){if(form&&form.$valid!==!0)return!1;var idx=0;nextIdx>$scope.currentFormState?($scope.currentFormState+=1,$scope.index+=1,$scope.max+=1,idx=$scope.currentFormState):($scope.index=nextIdx,$scope.max+=$scope.index,idx=nextIdx),$state.go($scope.formStates[idx])},$scope.industryData=Industry.getData(),$scope.formQuestions={industry:null,currentDebt:null,cashHoldings:null,raiseAmount:null,ltmRevenue:null,ltmCostOfGoodsSold:null,ltmSGAOpExpense:null,ltmExtraExpense:null,ltmDepAndAmor:null,ltmInterestPaid:null,ltmTaxesPaid:null,ntmRevenue:null,ntmCostOfGoodsSold:null,ntmSGAOpExpense:null,ntmExtraExpense:null,ntmDepAndAmor:null,ntmInterestPaid:null,ntmTaxesPaid:null},$scope.totals={grossProfit:[0,0],totalOpExpenses:[0,0],EBIT:[0,0],EBITDA:[0,0],pretaxIncome:[0,0],netIncome:[0,0],foobar:0,enterpriseValue:{gFValuation:[0,0],profitSpend:[0,0],EVEBITDA:[0,0],priceEarnings:[0,0]},equityValue:{gFValuation:[0,0],profitSpend:[0,0],EVEBITDA:[0,0],priceEarnings:[0,0]},equityValueLiquidDiscount:{gFValuation:[0,0],profitSpend:[0,0],EVEBITDA:[0,0],priceEarnings:[0,0]},average:{gFValuation:0,profitSpend:0,EVEBITDA:0,priceEarnings:0},percentToOffer:0,recommendedValuation:0,recommendedValuationString:""},$scope.xAxisTickFormatFunction=function(){return function(d){return d3.time.format("%b")(new Date(d))}},$scope.chartData=[{key:"GF Valuation",values:[]}],$scope.calculateTotals=function(form){if(form&&form.$valid!==!0)return!1;var liqDiscount,div,pe,evebitda,profitSpend,percentToOffer,selectedIndustry=null;angular.forEach($scope.industryData,function(val){val.id===$scope.formQuestions.industry&&(selectedIndustry=val)}),$scope.totals.grossProfit[0]=parseFloat($scope.formQuestions.ltmRevenue)-parseFloat($scope.formQuestions.ltmCostOfGoodsSold),$scope.totals.totalOpExpenses[0]=parseFloat($scope.formQuestions.ltmSGAOpExpense)+parseFloat($scope.formQuestions.ltmExtraExpense),$scope.totals.EBIT[0]=$scope.totals.grossProfit[0]-parseFloat($scope.formQuestions.ltmSGAOpExpense)+parseFloat($scope.formQuestions.ltmExtraExpense),$scope.totals.EBITDA[0]=$scope.totals.EBIT[0]+parseFloat($scope.formQuestions.ltmDepAndAmor),$scope.totals.pretaxIncome[0]=$scope.totals.EBIT[0]-parseFloat($scope.formQuestions.ltmInterestPaid),$scope.totals.netIncome[0]=$scope.totals.pretaxIncome[0]-parseFloat($scope.formQuestions.ltmTaxesPaid),$scope.totals.grossProfit[1]=parseFloat($scope.formQuestions.ntmRevenue)-parseFloat($scope.formQuestions.ntmCostOfGoodsSold),$scope.totals.totalOpExpenses[1]=parseFloat($scope.formQuestions.ntmSGAOpExpense)+parseFloat($scope.formQuestions.ntmExtraExpense),$scope.totals.EBIT[1]=$scope.totals.grossProfit[1]-parseFloat($scope.formQuestions.ntmSGAOpExpense)+parseFloat($scope.formQuestions.ntmExtraExpense),$scope.totals.EBITDA[1]=$scope.totals.EBIT[1]+parseFloat($scope.formQuestions.ntmDepAndAmor),$scope.totals.pretaxIncome[1]=$scope.totals.EBIT[1]-parseFloat($scope.formQuestions.ntmInterestPaid),$scope.totals.netIncome[1]=$scope.totals.pretaxIncome[1]-parseFloat($scope.formQuestions.ntmTaxesPaid),$scope.totals.foobar=100*($scope.totals.netIncome[1]/$scope.totals.netIncome[0]-1),$scope.totals.enterpriseValue.priceEarnings[0]=selectedIndustry.FTMPE*$scope.totals.netIncome[0],$scope.totals.enterpriseValue.priceEarnings[1]=selectedIndustry.NTMPE*$scope.totals.netIncome[1],$scope.totals.enterpriseValue.EVEBITDA[0]=selectedIndustry.FTMEVEBITDA*$scope.totals.EBITDA[0],$scope.totals.enterpriseValue.EVEBITDA[1]=selectedIndustry.NTMEVEBITDA*$scope.totals.EBITDA[1],$scope.totals.enterpriseValue.profitSpend[0]=selectedIndustry.FTMPS*parseFloat($scope.formQuestions.ltmRevenue),$scope.totals.enterpriseValue.profitSpend[1]=selectedIndustry.NTMPS*parseFloat($scope.formQuestions.ntmRevenue),$scope.totals.enterpriseValue.gFValuation[0]=($scope.totals.enterpriseValue.priceEarnings[0]+$scope.totals.enterpriseValue.EVEBITDA[0]+$scope.totals.enterpriseValue.profitSpend[0])/3,$scope.totals.enterpriseValue.gFValuation[1]=($scope.totals.enterpriseValue.priceEarnings[1]+$scope.totals.enterpriseValue.EVEBITDA[1]+$scope.totals.enterpriseValue.profitSpend[1])/3,$scope.totals.equityValue.priceEarnings[0]=$scope.totals.enterpriseValue.priceEarnings[0],$scope.totals.equityValue.priceEarnings[1]=$scope.totals.enterpriseValue.priceEarnings[1],$scope.totals.equityValue.EVEBITDA[0]=$scope.totals.enterpriseValue.EVEBITDA[0]-$scope.formQuestions.currentDebt+parseFloat($scope.formQuestions.cashHoldings),$scope.totals.equityValue.EVEBITDA[1]=$scope.totals.enterpriseValue.EVEBITDA[1]-$scope.formQuestions.currentDebt+parseFloat($scope.formQuestions.cashHoldings),$scope.totals.equityValue.profitSpend[0]=$scope.totals.enterpriseValue.profitSpend[0],$scope.totals.equityValue.profitSpend[1]=$scope.totals.enterpriseValue.profitSpend[1],$scope.totals.equityValue.gFValuation[0]=($scope.totals.equityValue.priceEarnings[0]+$scope.totals.equityValue.EVEBITDA[0]+$scope.totals.equityValue.profitSpend[0])/3,$scope.totals.equityValue.gFValuation[1]=($scope.totals.equityValue.priceEarnings[1]+$scope.totals.equityValue.EVEBITDA[1]+$scope.totals.equityValue.profitSpend[1])/3,liqDiscount=.8,$scope.totals.equityValueLiquidDiscount.priceEarnings[0]=$scope.totals.foobar>selectedIndustry.NTMPE?$scope.totals.foobar*$scope.totals.netIncome[0]*liqDiscount:$scope.totals.equityValue.priceEarnings[0]*liqDiscount,$scope.totals.equityValueLiquidDiscount.priceEarnings[1]=$scope.totals.equityValue.priceEarnings[1]*liqDiscount,$scope.totals.equityValueLiquidDiscount.EVEBITDA[0]=$scope.totals.equityValue.EVEBITDA[0]*liqDiscount,$scope.totals.equityValueLiquidDiscount.EVEBITDA[1]=$scope.totals.equityValue.EVEBITDA[1]*liqDiscount,$scope.totals.equityValueLiquidDiscount.profitSpend[0]=$scope.totals.equityValue.profitSpend[0]*liqDiscount,$scope.totals.equityValueLiquidDiscount.profitSpend[1]=$scope.totals.equityValue.profitSpend[1]*liqDiscount,div=0,pe=0,$scope.totals.equityValueLiquidDiscount.priceEarnings[0]>0&&(pe=$scope.totals.equityValueLiquidDiscount.priceEarnings[0],div+=1),evebitda=0,$scope.totals.equityValueLiquidDiscount.EVEBITDA[0]>0&&(evebitda=$scope.totals.equityValueLiquidDiscount.EVEBITDA[0],div+=1),profitSpend=0,$scope.totals.equityValueLiquidDiscount.profitSpend[0]>0&&(profitSpend=$scope.totals.equityValueLiquidDiscount.profitSpend[0],div+=1),$scope.totals.equityValueLiquidDiscount.gFValuation[0]=(pe+evebitda+profitSpend)/div,div=0,pe=0,$scope.totals.equityValueLiquidDiscount.priceEarnings[1]>0&&(pe=$scope.totals.equityValueLiquidDiscount.priceEarnings[1],div+=1),evebitda=0,$scope.totals.equityValueLiquidDiscount.EVEBITDA[1]>0&&(evebitda=$scope.totals.equityValueLiquidDiscount.EVEBITDA[1],div+=1),profitSpend=0,$scope.totals.equityValueLiquidDiscount.profitSpend[1]>0&&(profitSpend=$scope.totals.equityValueLiquidDiscount.profitSpend[1],div+=1),$scope.totals.equityValueLiquidDiscount.gFValuation[1]=(pe+evebitda+profitSpend)/div,$scope.totals.average.gFValuation=($scope.totals.equityValueLiquidDiscount.gFValuation[0]+$scope.totals.equityValueLiquidDiscount.gFValuation[1])/2,$scope.totals.average.profitSpend=($scope.totals.equityValueLiquidDiscount.profitSpend[0]+$scope.totals.equityValueLiquidDiscount.profitSpend[1])/2,$scope.totals.average.EVEBITDA=($scope.totals.equityValueLiquidDiscount.EVEBITDA[0]+$scope.totals.equityValueLiquidDiscount.EVEBITDA[1])/2,$scope.totals.average.priceEarnings=($scope.totals.equityValueLiquidDiscount.priceEarnings[0]+$scope.totals.equityValueLiquidDiscount.priceEarnings[1])/2,$scope.totals.recommendedValuation=Math.floor($scope.totals.average.gFValuation),percentToOffer=($scope.formQuestions.raiseAmount/$scope.totals.average.gFValuation*100).toFixed(2),$scope.totals.percentToOffer=percentToOffer>0?percentToOffer:0,$scope.gfVal=$scope.totals.average.gFValuation>0?1e3*Math.ceil($scope.totals.average.gFValuation/1e3):0,$scope.ps=$scope.totals.average.profitSpend>0?Math.ceil($scope.totals.average.profitSpend):0,$scope.evebitda=$scope.totals.average.EVEBITDA>0?Math.ceil($scope.totals.average.EVEBITDA):0,$scope.pe=$scope.totals.average.priceEarnings>0?Math.ceil($scope.totals.average.priceEarnings):0,Math.abs($scope.totals.recommendedValuation)>1e10&&($scope.totals.recommendedValuation>0?$scope.totals.recommendedValuationString="in excess of $10 Billion":$scope.totals.recommendedValuationString="in excess of ($10 Billion)",$scope.gfVal=0,$scope.totals.average.gFValuation=!1,$scope.totals.recommendedValuation=!1),$scope.chartData=[{key:"GF Valuation",values:[{label:"GF Valuation",value:$scope.gfVal},{label:"P/S",value:$scope.ps},{label:"EV/EBITDA",value:$scope.evebitda},{label:"P/E",value:$scope.pe}]}],$scope.evebitda<=0&&$scope.chartData[0].values.splice(2,1),$scope.pe<=0&&$scope.chartData[0].values.splice(3,1),$scope.gfVal<=0&&($scope.chartData[0].values=[]),$scope.showValuation=!0,$scope.showCantCalcValue=!1,$scope.showStartupMessage=!1,$scope.showNegCashFlow=!1,$scope.pe<=0&&($scope.showValuation=!1,$scope.showStartupMessage=!1,$scope.showCantCalcValue=!0),$scope.evebitda<=0&&$scope.pe<=0&&($scope.showValuation=!1,$scope.showCantCalcValue=!1,$scope.showNegCashFlow=!0),($scope.formQuestions.ltmRevenue<=0||$scope.formQuestions.ntmRevenue<=0)&&($scope.showValuation=!1,$scope.showStartupMessage=!1,$scope.showStartupMessage=!0),$scope.next(4)},$scope.$on("$stateChangeSuccess",function(ev,to){var stateIndex=$scope.formStates.indexOf(to.name);stateIndex>-1&&($scope.index=stateIndex)}),$scope.$on("$viewContentLoaded",function(){$('[data-toggle="popover"]').popover({trigger:"hover click",placement:"auto"})})}).controller("finalController",function($scope){nv.addGraph(function(){var chart=nv.models.discreteBarChart().x(function(d){return d.label}).y(function(d){return d.value});return chart.staggerLabels=!1,chart.tooltips=!1,chart.showValues=!0,chart.transitionDuration=350,chart.yAxis.tickFormat(d3.format(",.0f")),chart.valueFormat(d3.format(",.0f")),d3.select("#chart svg").datum($scope.chartData).call(chart),nv.utils.windowResize(chart.update),chart})})}(angular,d3,nv,$),function(angular){"use strict";angular.module("grft.calculators.established.route",["ui.router","currencyMask","grft.common.statusbutton.directive","grft.calculators.service.industry","grft.calculators.established.controller"]).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("established",{"abstract":!0,url:"/calcs/established",templateUrl:"calculators/established/form.html",controller:"established",resolve:{industry:["Industry",function(Industry){return Industry.retrieveData()}]}}).state("established.intro",{url:"/intro",templateUrl:"calculators/established/form-intro.html"}).state("established.one",{url:"/one",templateUrl:"calculators/established/form-one.html"}).state("established.two",{url:"/two",templateUrl:"calculators/established/form-two.html"}).state("established.three",{url:"/three",templateUrl:"calculators/established/form-three.html"}).state("established.totals",{url:"/totals",controller:"finalController",templateUrl:"calculators/established/form-totals.html"}),$urlRouterProvider.when("/calcs/established","/calcs/established/intro")})}(angular),function(angular,$){"use strict";angular.module("grft.calculators.payback.controller",["ui.router"]).controller("payback",function($scope,$state,$location,$anchorScroll){$scope.title="Payback Equity Calculator",$scope.currentFormState=0,$scope.index=0,$scope.max=0,$scope.formStates=["payback.intro","payback.one","payback.totals"],$scope.statBtnModel=[{label:"Intro"},{label:"Step 1"},{label:"Finish"}],$scope.statBtnClicked=function(index){$state.go($scope.formStates[index])},0===$scope.currentFormState&&$state.current.name!==$scope.formStates[0]&&$state.go($scope.formStates[0]),$scope.next=function(nextIdx){var idx=0;nextIdx>$scope.currentFormState?($scope.currentFormState+=1,$scope.index+=1,$scope.max+=1,idx=$scope.currentFormState):($scope.index=nextIdx,$scope.max=$scope.index,idx=nextIdx),$state.go($scope.formStates[idx]),$location.hash("top"),$anchorScroll()},$scope.businessTypes=[{id:1,label:"Startup"},{id:2,label:"Existing Business"}],$scope.showLTMRevenue=function(){return 2===$scope.formQuestions.businessType},$scope.formQuestions={businessType:1,ltmRevenue:"$0",raiseAmount:null,ntmRevenue:null},$scope.totals={revenueShare:[0,0],returnToInvestors:[0]},$scope.displayScenario=1,$scope.calculateTotals=function(form){if(form.$valid!==!0)return!1;var check=1.2*parseFloat($scope.formQuestions.ntmRevenue);$scope.formQuestions.raiseAmount>=check?($scope.displayScenario=1,$scope.totals.revenueShare[0]=5..toFixed(2),$scope.totals.revenueShare[1]=10..toFixed(2),$scope.totals.returnToInvestors[0]=(.05*$scope.formQuestions.ntmRevenue/$scope.formQuestions.raiseAmount*100).toFixed(2),$scope.totals.returnToInvestors[1]=(.1*$scope.formQuestions.ntmRevenue/$scope.formQuestions.raiseAmount*100).toFixed(2)):($scope.displayScenario=2,$scope.totals.revenueShare[0]=(.05*$scope.formQuestions.raiseAmount/$scope.formQuestions.ntmRevenue*100).toFixed(2),$scope.totals.revenueShare[1]=(.1*$scope.formQuestions.raiseAmount/$scope.formQuestions.ntmRevenue*100).toFixed(2)),$scope.next(2)},$scope.$on("$viewContentLoaded",function(){$('[data-toggle="popover"]').popover({trigger:"hover click",placement:"auto"})}),$scope.$on("$stateChangeSuccess",function(ev,to){var index=$scope.formStates.indexOf(to.name);index>=0&&($scope.index=index)})})}(angular,$),function(angular){"use strict";angular.module("grft.calculators.payback.route",["ui.router","grft.common.statusbutton.directive","grft.calculators.payback.controller"]).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("payback",{"abstract":!0,url:"/calcs/payback",templateUrl:"calculators/payback/form.html",controller:"payback"}).state("payback.intro",{url:"/intro",parent:"payback",templateUrl:"calculators/payback/form-intro.html"}).state("payback.one",{url:"/one",parent:"payback",templateUrl:"calculators/payback/form-one.html"}).state("payback.totals",{url:"/totals",parent:"payback",templateUrl:"calculators/payback/form-totals.html"}),$urlRouterProvider.when("/calcs/payback","/calcs/payback/intro")})}(angular),function(angular,$){"use strict";angular.module("grft.calculators.startup.controller",["ui.router","grft.calculators.service.industry"]).controller("startup",function($scope,$state,$location,$anchorScroll,Industry){$scope.title="Startup Business Valuation Calculator",$scope.index=0,$scope.max=0,$scope.currentFormState=0,$scope.statModel=[{label:"Intro"},{label:"Step 1"},{label:"Finish"}],$scope.formStates=["startup.intro","startup.one","startup.totals"],0===$scope.currentFormState&&$state.current.name!==$scope.formStates[0]&&$state.go($scope.formStates[0]),$scope.statBtnClicked=function(index){$state.go($scope.formStates[index])},$scope.next=function(nextIdx){var idx=0;nextIdx>$scope.currentFormState?($scope.currentFormState+=1,$scope.index+=1,$scope.max+=1,idx=$scope.currentFormState):($scope.index=nextIdx,$scope.max=$scope.index,idx=nextIdx),$state.go($scope.formStates[idx]),$location.hash("top"),$anchorScroll()},$scope.industryData=Industry.getData(),$scope.businessNatures=[{id:0,label:"Fairly well established"},{id:1,label:"New and potentially growing quickly"}],$scope.productNatures=[{id:0,label:"Be an improvement to what is currently on the market"},{id:1,label:"Be revolutionary and disruptive to the market"}],$scope.failureRates=[.3,.5,.5,.7],$scope.liquidityAdjustment=.2,$scope.formQuestions={industry:!1,businessNature:!1,productNature:!1,revenueYearOne:null,profitYearOne:null,revenueYearFive:null,profitYearFive:null,cashHoldings:"$0",currentDebt:"$0",raiseAmount:null},$scope.totals={ntmProfitSpend:0,ntmEVEBIT:0,netCashPostCapitalRaise:0,profitSpend:[0,0],enterpriseValueEBITDA:[0,0],average:[0,0],netPresentValue:[0,0],probFailure:0,averageNPV:0,liquidityAdjustedAverageNPV:0,recommendedValuation:0,percentToOffer:0,recommendedValuationString:""},$scope.calculateTotals=function(form){if(!form||form.$valid!==!0)return!1;var currentDebt,cashHoldings,average1,average2,isBusinessNature,isProductNature,selectedIndustry=null;angular.forEach($scope.industryData,function(val){val.id===$scope.formQuestions.industry&&(selectedIndustry=val)}),$scope.formQuestions.profitYearOne=parseFloat($("input[name=profitYearOne]").val().replace("$","").replace(",","")),currentDebt=parseFloat($scope.formQuestions.currentDebt.replace("$","")),cashHoldings=parseFloat($scope.formQuestions.cashHoldings.replace("$","")),$scope.totals.ntmProfitSpend=parseFloat(selectedIndustry.NTMPS),$scope.totals.ntmEVEBIT=parseFloat(selectedIndustry.NTMEVEBITDA),$scope.totals.netCashPostCapitalRaise=parseFloat(cashHoldings)-parseFloat(currentDebt)+parseFloat($scope.formQuestions.raiseAmount),$scope.totals.profitSpend[0]=$scope.totals.ntmProfitSpend*$scope.formQuestions.revenueYearOne,$scope.totals.enterpriseValueEBITDA[0]=$scope.totals.ntmEVEBIT*$scope.formQuestions.profitYearOne+$scope.totals.netCashPostCapitalRaise,average1=($scope.totals.profitSpend[0]+$scope.totals.enterpriseValueEBITDA[0])/2,$scope.totals.average[0]=average1>0?average1:0,$scope.totals.netPresentValue[0]=$scope.totals.average[0],$scope.totals.profitSpend[1]=$scope.totals.ntmProfitSpend*parseFloat($scope.formQuestions.revenueYearFive)+$scope.totals.netCashPostCapitalRaise,$scope.totals.enterpriseValueEBITDA[1]=$scope.totals.ntmEVEBIT*parseFloat($scope.formQuestions.profitYearFive)+$scope.totals.netCashPostCapitalRaise,average2=($scope.totals.profitSpend[1]+$scope.totals.enterpriseValueEBITDA[1])/2,$scope.totals.average[1]=average2>0?average2:0,$scope.totals.netPresentValue[1]=$scope.totals.average[1]/Math.pow(1.1,4),isBusinessNature=1===$scope.formQuestions.businessNature,isProductNature=1===$scope.formQuestions.productNature,isBusinessNature||isProductNature?!isBusinessNature&&isProductNature?$scope.totals.probFailure=$scope.failureRates[1]:isBusinessNature&&!isProductNature?$scope.totals.probFailure=$scope.failureRates[2]:$scope.totals.probFailure=$scope.failureRates[3]:$scope.totals.probFailure=$scope.failureRates[0],$scope.totals.averageNPV=($scope.totals.netPresentValue[0]+$scope.totals.netPresentValue[1])/2,$scope.totals.liquidityAdjustedAverageNPV=$scope.totals.averageNPV/(1+$scope.liquidityAdjustment),$scope.totals.recommendedValuation=($scope.totals.liquidityAdjustedAverageNPV/(1+$scope.totals.probFailure)+$scope.totals.netCashPostCapitalRaise)/1e3*1e3,$scope.totals.percentToOffer=($scope.formQuestions.raiseAmount/$scope.totals.recommendedValuation*100).toFixed(2),Math.abs($scope.totals.recommendedValuation)>1e10&&($scope.totals.recommendedValuation>0?$scope.totals.recommendedValuationString="in excess of $10 Billion":$scope.totals.recommendedValuationString="in excess of ($10 Billion)",$scope.totals.recommendedValuation=!1),$scope.next(2)},$scope.$on("$viewContentLoaded",function(){$('[data-toggle="popover"]').popover({trigger:"hover click",placement:"auto"})}),$scope.$on("$stateChangeSuccess",function(ev,to){var stateIndex=$scope.formStates.indexOf(to.name);stateIndex>-1&&($scope.index=stateIndex)})})}(angular,$),function(angular){"use strict";angular.module("grft.calculators.startup.filter",[]).filter("nfcurrency",["$filter","$locale",function($filter,$locale){var currency=$filter("currency"),formats=$locale.NUMBER_FORMATS;
return function(amount,symbol){var value=currency(amount,symbol);return value.replace(new RegExp("\\"+formats.DECIMAL_SEP+"\\d{2}"),"")}}])}(angular),function(angular){"use strict";angular.module("grft.calculators.startup.route",["ui.router","currencyMask","grft.calculators.startup.filter","grft.calculators.service.industry","grft.calculators.startup.controller","grft.common.statusbutton.directive"]).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("startup",{"abstract":!0,url:"/calcs/startup",templateUrl:"calculators/startup/form.html",controller:"startup",resolve:{industry:["Industry",function(Industry){return Industry.retrieveData()}]}}).state("startup.intro",{url:"/intro",parent:"startup",templateUrl:"calculators/startup/form-intro.html"}).state("startup.one",{url:"/one",parent:"startup",templateUrl:"calculators/startup/form-one.html"}).state("startup.totals",{url:"/totals",parent:"startup",templateUrl:"calculators/startup/form-totals.html"}),$urlRouterProvider.when("/calcs/startup","/calcs/startup/intro")})}(angular),function(angular){"use strict";angular.module("grft.resources.config",["ngResource","API"]).factory("BackendConfig",function($resource,api){return $resource(api("/config"),{},{})})}(angular),function(angular){"use strict";angular.module("grft.common.constants",[]).constant("states_list",["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District Of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]).constant("geographic_areas",["Northeast","Midwest","South","West"]).constant("investment_industries",["Diversified Financial Services","Consumer Finance","Insurance","Health Care Technology","Health Care Equipment & Supplies","Life Science Tools & Services","Health Care Providers & Services","Software","Semiconductor & Semiconductor Equipment","Communications Equipment","Internet Software & Services","Electronic Equipment, Instruments & Components","IT Services","Beverages","Food Products","Household Products","Food & Staples Retailing","Electrical Equipment","Building Products","Aerospace & Defense","Trading Companies & Distributors","Machinery","Professional Services","Commercial Services & Supplies","Construction & Engineering","Road & Rail","Internet & Catalog Retail","Textiles, Apparel & Luxury Goods","Hotels, Restaurants, & Leisure","Household Durables","Leisure Equipment & Products","Distributors","Diversified Consumer Services","Speciality Retail","Multiline Retail","Auto Components","Construction Materials","Chemicals","Paper & Forest Products","Containers & Packaging","Energy Equipment & Services","Oil Gas & Consumable Fuels"])}(angular),function(angular){"use strict";angular.module("grft.common.currencyInput.directive",[]).directive("currencyInput",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ctrl){return ctrl.$parsers.push(function(inputValue){for(var inputVal=element.val();"0"===inputVal.charAt(0)&&inputVal.charAt(1);)inputVal=inputVal.substr(1);inputVal=inputVal.replace(/[^\d.\',']/g,"");var point=inputVal.indexOf(".");point>=0&&(inputVal=inputVal.slice(0,point+3));var decimalSplit=inputVal.split("."),intPart=decimalSplit[0],decPart=decimalSplit[1];intPart=intPart.replace(/[^\d]/g,"");var unformattedPart=intPart;if(intPart.length>3)for(var intDiv=Math.floor(intPart.length/3),lastComma=0;intDiv>0;)lastComma=intPart.indexOf(","),0>lastComma&&(lastComma=intPart.length),lastComma-3>0&&(intPart=intPart.slice(0,lastComma-3)+","+intPart.slice(lastComma-3)),intDiv-=1;decPart=void 0===decPart?"":"."+decPart;var res=intPart+decPart,unformattedRes=unformattedPart+decPart;return res!==inputValue&&(ctrl.$setViewValue(res),ctrl.$render()),unformattedRes})}}})}(angular),function(angular){"use strict";angular.module("grft.common.date.localizedFilter",[]).filter("localdate",function($filter){return function(input,format){var date=new Date(input);return $filter("date")(date,format)}})}(angular),function(angular){"use strict";angular.module("grft.common.services.today",[]).factory("Today",function(){var today=new Date;return today.setMilliseconds(0),today.setSeconds(0),today.setMinutes(0),today.setHours(0),today})}(angular),function(angular,isNaN,parseInt){"use strict";angular.module("grft.common.dynamicRange.directive",[]).directive("dynamic",function(){return{restrict:"A",require:"ngModel",link:function(scope,elem,attr,ctrl){var validate=function(isMax,value){return function(lim){var val=value;void 0===val&&(val=parseInt(ctrl.$viewValue,10)),isNaN(lim)||isNaN(val)||ctrl.$setValidity(isMax?"max":"min",isMax?lim>=val:val>=lim)}};scope.$watch(function(){return parseInt(scope.$eval(attr.min),10)},validate(!1)),scope.$watch(function(){return parseInt(scope.$eval(attr.max),10)},validate(!0)),ctrl.$parsers.unshift(function(viewValue){var value=parseInt(viewValue,10);return validate(!1,value)(parseInt(scope.$eval(attr.min),10)),validate(!0,value)(parseInt(scope.$eval(attr.max),10)),viewValue})}}})}(angular,isNaN,parseInt),function(ng){"use strict";ng.module("errorReporter",["toaster"]).factory("error",["toaster",function(t){return function(warningTitle,ErrorTitle){return function(error){error.data?Object.keys(error.data).forEach(function(key){error.data[key].forEach(function(message){error.status<500?t.pop("warning",warningTitle+" ("+key+")",message):t.pop("error",ErrorTitle+"("+key+")","Please report to support with this message:"+message)})}):t.pop("error",ErrorTitle,"Please report to support with this code: "+error.status)}}}])}(angular),function(angular){"use strict";angular.module("grft.common.file.conf",[]).constant("cropMaxSize",{width:200,height:200})}(angular),function(angular,Image,Date){"use strict";angular.module("grft.common.file.controller",["ngAnimate","grft.services.fileinfo","grft.common.file.conf","mgcrea.ngStrap"]).controller("dropAreaController",function($scope,$modal,$timeout,createFileInfo,cropMaxSize){var cropDialog,reloadSelection=function(){$scope.selectionModel.x=$scope.selectionModel.x||10,$scope.selectionModel.y=$scope.selectionModel.y||10,$scope.selectionModel.width=$scope.selectionModel.width||50,$scope.selectionModel.height=$scope.selectionModel.height||50,$scope.selection||($scope.selection=[$scope.selectionModel.x,$scope.selectionModel.y,$scope.selectionModel.x+$scope.selectionModel.width,$scope.selectionModel.y+$scope.selectionModel.height,$scope.selectionModel.width,$scope.selectionModel.height]),$scope.selectionModel.x=$scope.selection[0],$scope.selectionModel.y=$scope.selection[1],$scope.selectionModel.width=$scope.selection[4],$scope.selectionModel.height=$scope.selection[5]},dataChanged=function(data){data&&($scope.originalImage.src="",$scope.originalImage.src=data)},setSelection=function(){$scope.selectionModel&&($scope.selection=[$scope.selectionModel.x,$scope.selectionModel.y,$scope.selectionModel.x+$scope.selectionModel.width,$scope.selectionModel.y+$scope.selectionModel.height,$scope.selectionModel.width,$scope.selectionModel.height]),dataChanged($scope.ngModel.body)};if($scope.now=(new Date).getTime(),$scope.ngModel||($scope.ngModel=createFileInfo($scope.referenceId)),$scope.data=angular.copy($scope.ngModel),$scope.originalImage=new Image,$scope.originalImage.onload=function(){var width,height,rate=1;($scope.cropDialog||$scope.circleIcon)&&(width=this.naturalWidth,height=this.naturalHeight,width>height?width>cropMaxSize.width&&(rate=cropMaxSize.width/width):height>cropMaxSize.height&&(rate=cropMaxSize.height/height),$scope.selectionModel.shrinkRate=rate,reloadSelection(),$scope.cropDialog&&cropDialog.$promise.then(function(){$scope.ngModel.body&&cropDialog.show()}))},$scope.acceptdFiletypes=[],$scope.cropDialog&&($scope.status={canceled:!1},cropDialog=$modal({scope:$scope,title:"Crop Image",template:"common/file/parts/cropDialog/template.html",contentTemplate:"common/file/parts/cropDialog/content.html",prefixEvent:"cropDialog",backdrop:"static",keyboard:!1,show:!1})),!$scope.referenceId)throw new Error("Reference ID is required");$scope.acceptedLabel="",$scope.$watch("accept",function(accept){var labelList,index;if(accept)for($scope.acceptedFiletypes=Object.keys(accept).map(function(key){return{mime:new RegExp($scope.accept[key].mime.replace(/\./g,"\\.").replace(/\//g,"\\/").replace(/\*/g,".*")),mimeStr:$scope.accept[key].mime,ext:new RegExp($scope.accept[key].ext.replace(/\./g,"\\.").replace(/\//g,"\\/").replace(/\*/g,".*")+"$")}}),$scope.acceptedFiletypesForInput=Object.keys(accept).map(function(key){return $scope.accept[key].mime}),labelList=Object.keys($scope.accept),index=0;index<labelList.length;index+=1)$scope.acceptedLabel+=labelList[index],index<labelList.length-2?$scope.acceptedLabel+=", ":index===labelList.length-2&&($scope.acceptedLabel+=" or ")},!0),$scope.$on("cropDialog.hide",function(){$scope.status.canceled?$scope.ngModel=angular.copy($scope.data):($scope.ngChange(),$timeout(function(){$scope.now=(new Date).getTime()},200,!1))}),$scope.imageChanged=function(){$scope.ngModel.body&&($scope.cropDialog?setSelection():$scope.ngChange())},$scope.hasPic=function(checkData){if($scope.ngModel.$resolved){var exists=$scope.circleIcon&&$scope.ngModel.type.indexOf("image/")>-1&&$scope.ngModel.id;return checkData&&(exists=exists&&$scope.ngModel.body),exists}},$scope.$watch("selection",function(data){data&&reloadSelection()},!0),$scope.ngModel.$promise?$scope.ngModel.$promise.then(setSelection):setSelection()})}(angular,Image,Date),function(angular,FileReader){"use strict";angular.module("grft.common.file.directive",["ngJcrop","ngAnimate","API","grft.common.thumbnail.directive","grft.common.file.controller","grft.common.file.conf"]).config(function(ngJcropConfigProvider,cropMaxSize,$compileProvider){$compileProvider.imgSrcSanitizationWhitelist(/^\s*(https?|data):/),ngJcropConfigProvider.setJcropConfig({bgColor:"black",bgOpacity:.4,aspectRatio:1,maxWidth:cropMaxSize.width,maxHeight:cropMaxSize.height})}).directive("dragArea",function(){return{restrict:"AC",scope:{dialogId:"@",ngModel:"=",selectionModel:"=",referenceId:"@",accept:"=",ngChange:"&",circleIcon:"=",cropDialog:"@",hideImage:"="},link:function(scope,iElem){var dragEnterEventHandler=function(dragEvent){dragEvent.stopPropagation(),dragEvent.preventDefault(),dragEvent.originalEvent.effectAllowed="copy"},readFile=function(file){if(file){var reader,fileAccepted,mime;fileAccepted=scope.acceptedFiletypes.some(function(acceptFileType){var result=file.type.match(acceptFileType.mime)||!file.type&&acceptFileType.ext&&file.name.match(acceptFileType.ext);return result&&(mime=acceptFileType.mimeStr),result}),fileAccepted&&(reader=new FileReader,reader.onload=function(loadEvent){scope.$apply(function(){scope.ngModel.body=loadEvent.target.result,scope.ngModel.name=file.name,scope.ngModel.type=file.type||mime,scope.imageChanged()})},reader.readAsDataURL(file))}},dropEventHandler=function(dropEvent){dropEvent.preventDefault();var file=dropEvent.originalEvent.dataTransfer.files[0];readFile(file)},fileInputChanged=function(){var file=this.files[0];readFile(file),this.value=""};iElem.bind("dragenter",dragEnterEventHandler),iElem.bind("dragover",dragEnterEventHandler),iElem.bind("drop",dropEventHandler),iElem.find('input[type="file"]').on("change",fileInputChanged)},templateUrl:"common/file/view.html",controller:"dropAreaController"}})}(angular,FileReader),function(angular,console){"use strict";angular.module("grft.services.fileinfo",["grft.resources.files","API"]).factory("createFileInfo",function(FileStorage,api,$q){var FileInfo=function(name,data,reference,type,id,selection){this.id=id||null,this.name=name||null,this.data=data||null,this.type=type||null,this.data_modified=!1,this.reference=reference||null,this.selection=selection||null,this.edit=function(kwargs){var key,value;for(key in kwargs)kwargs.hasOwnProperty(key)&&(value=kwargs[key],Object.keys(this).indexOf(key)<0&&console.warn("New Key:",key),this[key]=value||null);return this}};return function(reference,id){if(!reference||"string"!=typeof reference)throw new Error("reference field is required.");var ret=new FileInfo,defer=$q.defer();return ret.reference=reference,id&&(ret.promise=defer.promise,FileStorage.info.get({id:id}).$promise.then(function(info){var edit_factor={name:info.name,data:api("/files",id),type:info.type,id:id,reference:info.reference,selection:info.selection};ret.edit(edit_factor),defer.resolve(edit_factor)},defer.reject)),ret}})}(angular,console),function(angular){"use strict";angular.module("grft.resources.files",["ngResource","API"]).factory("FileStorage",function($resource,api){return{data:$resource(api("/files",":id"),{},{update:{method:"PUT"}}),info:$resource(api("/files",":id","info"),{id:"@id"},{save:{method:"POST",url:api("/files")},update:{method:"PUT",url:api("/files",":id"),params:{id:"@id"}}}),selection:$resource(api("/files",":id","info","selection"),{id:"@id"},{update:{method:"PUT"}})}})}(angular),function(angular){"use strict";angular.module("grft.services.files.uploader",["grft.resources.files"]).factory("uploadFile",function($q,FileStorage){return function(data){if(!data)throw new Error('"data" parameter is required.');var storage=null,defer=$q.defer();return storage=new FileStorage.info(data),storage.data_modified&&delete storage.data_modified,storage.id&&delete storage.id,data.id?data.data_modified?storage.$update({id:data.id}).then(function(data){defer.resolve(data.id)},function(data){defer.reject(data)}):defer.resolve(!0):data.data_modified?storage.$save().then(function(receivedData){defer.resolve(receivedData.id)},function(data){defer.reject(data)}):defer.resolve(!0),data.data_modified=!1,defer.promise}})}(angular),function(ng){"use strict";ng.module("formDirtyChecker",[]).factory("isDirtyAndInvalid",function(){return function(formControl){return formControl.$dirty&&formControl.$invalid}})}(angular),function(ng){"use strict";ng.module("formatAddress",[]).filter("address",[function(){return function(address){return[address.street,address.city,address.state,address.zip].filter(function(el){return el}).join(" ,")}}])}(angular),function(angular){"use strict";angular.module("KeySteal",[]).directive("stealKey",function(){return{restrict:"A",scope:{keyCodes:"&",keyUp:"&",keyDown:"&",keyPress:"&"},link:function(scope,element){var keyCodes=scope.$eval(scope.keyCodes),fireEvent=function(keycode,scopeEvent){keyCodes.indexOf(keycode)>-1&&scope.$apply(scope.$eval(scopeEvent))};element.bind("keyup",function(event){fireEvent(event.keyCode,scope.keyUp)}),element.bind("keydown",function(event){fireEvent(event.keyCode,scope.keyDown)}),element.bind("keypress",function(event){fireEvent(event.keyCode,scope.keyPress)})}}})}(angular),function(angular){"use strict";angular.module("grft.menus.left",["ui.router"]).controller("leftMenuController",function($scope,$state){$scope.isActive=function(srefOrhref){try{return $state.includes(srefOrhref)}catch(err){return!1}},$scope.tooltip={title:"You must be a member to see these features. Sign up for Free Today",checked:!1},$scope.menu=[{name:"ABOUT US",children:[{name:"Overview",sref:'about({"init": "about-us"})'},{name:"Team",sref:'about({"init": "team"})'},{name:"Partners",sref:'about({"init": "partners"})'},{name:"Contact Us",sref:'about({"init": "contact-us"})'},{name:"Careers",sref:'about({"init": "careers"})'},{name:"In the News",sref:'about({"init": "in-the-news"})'}]},{name:"RESOURCE CENTER",children:[{name:"For Investors",sref:"TBD",children:[{name:"Investor Tutorial",sref:"tutorial_investor",secure:!1},{name:"Education Materials",sref:"education",secure:!1}]},{name:"For Businesses",sref:"TBD",children:[{name:"Business Tutorial",sref:"tutorial_business",secure:!1},{name:"Campaign Materials",sref:"TBD",children:[{name:"Success Guide",sref:"successguide.one",secure:!0},{name:"Capital Raise Calculator",sref:"capitalraise.intro",secure:!0},{name:"What's my Business Worth?",sref:"businessworth.intro",secure:!0},{name:"Form Documents",sref:"TBD",secure:!0}]}]},{name:"FAQ",sref:"faq",secure:!1},{name:"Blog",href:"/blog",secure:!1}]},{name:"ADVISOR NETWORK",children:[{name:"About",sref:"advisor-gate"},{name:"FAQ",sref:'faq({"init": "faq-advisor"})'}]}]})}(angular),function(angular,Date){"use strict";angular.module("grft.menus.right",["ui.router","API"]).controller("rightMenuController",function($scope,$timeout,$rootScope){$scope.accountMenu=[{name:"MY ACCOUNT",sref:"account"},{name:"MY COMPANY",sref:"startup_gate"},{name:"MY INVESTMENTS",sref:"startup_profile_list"},{name:"LOGOUT",execute:$scope.logout}],$scope.now=(new Date).getTime(),$scope.$watch("user.profile_picture",function(id){id&&$rootScope.refreshProfilePictureOnRightMenu(!1)},!0),$rootScope.refreshProfilePictureOnRightMenu=function(apply){$timeout(function(){$scope.now=(new Date).getTime()},100,apply)}})}(angular,Date),function(angular,console){"use strict";angular.module("grft.services.notify",["toaster"]).factory("successLogin",["toaster",function(toaster){return function(firstname,lastname,failbackString){var name=null;firstname&&lastname&&(name=firstname+" "+lastname),toaster.pop("success","Login Successful","Welcome, "+(name||failbackString))}}]).factory("not_implemented_yet",function(toaster){return function(message){console.warn("Not Implemented Yet:",message),toaster.pop("warning","Not Implemented Yet",message)}})}(angular,console),function(ng,parseInt,isNaN,Math){"use strict";ng.module("grft.common.numberDistanceValidation.directive",[]).directive("numDistance",function(){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){var key,attrMap={compare:"@",distance:"@"},validate=function(viewValue){var value=parseInt(viewValue,10),valueToCompare=parseInt(attrs.compare,10);return isNaN(valueToCompare)||ctrl.$setValidity("distance",Math.abs(value-valueToCompare)<=scope.distance),viewValue};for(key in attrMap)if(attrMap.hasOwnProperty(key)&&Object.keys(attrs).indexOf(key)<0)throw new Error(key+" is requried");for(key in attrMap)attrMap.hasOwnProperty(key)&&(scope[key]=attrs[key]);if("number"!=typeof scope.distance&&(scope.distance=parseInt(scope.distance,10),isNaN(scope.distance)))throw new Error("distance should be an integer.");scope.$watch(function(){return attrs.compare},function(value){value&&validate(ctrl.$modelValue)}),ctrl.$parsers.unshift(validate)}}})}(angular,parseInt,isNaN,Math),function(angular){"use strict";angular.module("placeholder",[]).directive("placeholder",["$filter",function($filter){return{restrict:"E",replace:!0,scope:{model:"=",text:"@",placeholder:"@",type:"@"},link:function(scope){"text"!==scope.type?scope.$watch("model",function(newValue){if(newValue)switch(scope.type){case"date":scope.label=$filter("date")(newValue,"mediumDate","+0000");break;case"USD":scope.label=$filter("currency")(newValue,"USD $");break;case"html":scope.label=scope.model,scope.htmlMode=!0;break;default:scope.label=scope.model}}):scope.label=scope.text},templateUrl:"common/placeholder/view.html"}}])}(angular),function(angular){"use strict";angular.module("grft.common.popoverHideCaller.directive",[]).directive("hidePopoverOnOuterClick",function($rootElement){return{directive:"AC",controller:function($element){var body=$rootElement;body.click(function(event){var popover_scope,popover=$element.next(".popover");popover.length>0&&!popover.hasClass("ng-enter")&&!popover.hasClass("ng-leave")&&angular.element(event.target)!==popover&&popover.find(event.target).length<1&&(popover_scope=popover.scope(),popover_scope.$apply(function(){popover_scope.$hide()}))})}}})}(angular),function(angular,abs){"use strict";angular.module("goto",[]).factory("goto",function($q,$rootElement){return function(queryString,duration){var scroll=function(){var positionToScroll,screen,distance,element=$rootElement.find(queryString),defer=$q.defer();return element.length<1?void defer.reject(new Error("No such element:"+queryString)):(screen=angular.element("html").hasClass("firefox")?angular.element("html"):angular.element("body"),positionToScroll=element.offset().top-100,distance=abs(screen.scrollTop()-positionToScroll),screen.animate({scrollTop:positionToScroll},{duration:duration||distance/1.85,easing:"easeInOutCubic",complete:function(e){e?defer.reject(e):defer.resolve()}}),defer.promise)};return scroll()}})}(angular,Math.abs),function(angular){"use strict";angular.module("grft.common.statusbutton.controller",[]).controller("statbtnController",function($scope){$scope.clicked=function(index){index<=$scope.max&&($scope.current=index,$scope.itemClicked({index:index}))}})}(angular),function(angular){"use strict";angular.module("grft.common.statusbutton.directive",["grft.common.statusbutton.controller"]).directive("statusButton",function(){return{restrict:"AC",scope:{ngModel:"=",current:"=",max:"=",itemClicked:"&"},templateUrl:"common/statusButtons/view.html",controller:"statbtnController"}})}(angular),function(angular,Image,Math,parseInt){"use strict";angular.module("grft.common.thumbnail.controller",[]).controller("thumbnailController",function($scope,$element){var unwatchSelection;$scope.status={load:!1},$scope.image=$element.find("img.preview"),1===$scope.image.length?$scope.image=$scope.image[0]:$scope.image=new Image,$scope.calculateSelection=function(){var shrinkWidth,shrinkHeight,xRate=parseInt($scope.width,10),yRate=parseInt($scope.height,10);shrinkWidth=$scope.image.naturalWidth,shrinkHeight=$scope.image.naturalHeight,xRate/=$scope.selection[4]?$scope.selection[4]:shrinkWidth,yRate/=$scope.selection[5]?$scope.selection[5]:shrinkHeight,$scope.style={},$scope.style.window={width:$scope.width+"px",height:$scope.height+"px"},$scope.style.image={width:Math.round(xRate*shrinkWidth)+"px","max-width":Math.round(xRate*shrinkWidth)+"px",height:Math.round(yRate*shrinkHeight)+"px","max-height":Math.round(yRate*shrinkHeight)+"px","margin-left":"-"+Math.round(xRate*$scope.selection[0])+"px","margin-top":"-"+Math.round(yRate*$scope.selection[1])+"px"}},$scope.image.onload=function(){$scope.status.load=!!(this.complete&&this.naturalWidth&&this.naturalHeight),unwatchSelection&&unwatchSelection(),unwatchSelection=$scope.$watch(function(){return[$scope.width,$scope.height,$scope.position,$scope.selectedSize]},function(value){var hasUndefined=value.some(function(el){return void 0===el});hasUndefined||$scope.calculateSelection()},!0)},$scope.$watch("src",function(value){value&&$scope.image.src!==value&&($scope.image.src=value)}),$scope.$watch("selection",$scope.calculateSelection,!0)})}(angular,Image,Math,parseInt),function(angular){"use strict";angular.module("grft.common.thumbnail.directive",["grft.common.thumbnail.controller"]).directive("thumbnail",function(){return{restrict:"AC",scope:{src:"=",width:"@",height:"@",selection:"=",shrinkRate:"="},templateUrl:"common/thumbnail/view.html",controller:"thumbnailController"}})}(angular),function(angular){"use strict";angular.module("toaster.config",[]).constant("toasterConfig",{limit:0,tap:!0,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info",position:"toast-top-left",title:"toast-title",message:"toast-message"})}(angular),function(angular){"use strict";angular.module("toaster",["ngAnimate","toaster.service","toaster.config"]).directive("toasterContainer",["$timeout","$sce","toasterConfig","toaster",function($timeout,$sce,toasterConfig,toaster){return{replace:!0,restrict:"EA",scope:{toasterOptions:"="},link:function(scope){function setTimeout(toast,time){toast.timeout=$timeout(function(){scope.removeToast(toast.id)},time)}function addToast(toast){switch(toast.type=mergedConfig["icon-classes"][toast.type],toast.type||(toast.type=mergedConfig["icon-class"]),id+=1,angular.extend(toast,{id:id}),toast.bodyOutputType=toast.bodyOutputType||mergedConfig["body-output-type"],toast.bodyOutputType){case"trustedHtml":toast.html=$sce.trustAsHtml(toast.body);break;case"template":toast.bodyTemplate=toast.body||mergedConfig["body-template"]}scope.configureTimer(toast),mergedConfig["newest-on-top"]===!0?(scope.toasters.unshift(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&scope.toasters.pop()):(scope.toasters.push(toast),mergedConfig.limit>0&&scope.toasters.length>mergedConfig.limit&&scope.toasters.shift())}var mergedConfig,i,id=0;scope.toasterOptions||(scope.toasterOptions={});for(i in toasterConfig)toasterConfig.hasOwnProperty(i)&&Object.keys(scope.toasterOptions).indexOf(i)<0&&(scope.toasterOptions[i]=toasterConfig[i]);scope.config=mergedConfig=scope.toasterOptions,scope.configureTimer=function(toast){var timeout="number"==typeof toast.timeout?toast.timeout:mergedConfig["time-out"];timeout>0&&setTimeout(toast,timeout)},scope.toasters=[],scope.$on("toaster-newToast",function(){addToast(toaster.toast)}),scope.$on("toaster-clearToasts",function(){scope.toasters.splice(0,scope.toasters.length)})},controller:["$scope",function($scope){$scope.stopTimer=function(toast){toast.timeout&&($timeout.cancel(toast.timeout),toast.timeout=null)},$scope.restartTimer=function(toast){toast.timeout||$scope.configureTimer(toast)},$scope.removeToast=function(id){var i=0;for(i;i<$scope.toasters.length&&$scope.toasters[i].id!==id;i+=1);$scope.toasters.splice(i,1)},$scope.click=function(toaster){$scope.config.tap===!0&&(toaster.clickHandler?$scope.$parent.$eval(toaster.clickHandler)(toaster):$scope.removeToast(toaster.id))}}],template:'<div  id="toast-container" ng-class="config.position"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)"  ng-mouseout="restartTimer(toaster)"><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(angular),function(angular){"use strict";angular.module("toaster.service",[]).service("toaster",["$rootScope",function($rootScope){this.pop=function(type,title,body,timeout,bodyOutputType,clickHandler){this.toast={type:type,title:title,body:body,timeout:timeout,bodyOutputType:bodyOutputType,clickHandler:clickHandler},$rootScope.$broadcast("toaster-newToast")},this.clear=function(){$rootScope.$broadcast("toaster-clearToasts")}}])}(angular),function(angular){"use strict";angular.module("toggleSelection.controller",[]).controller("toggleSelectionController",function($scope){$scope.toggleModel=function(index){var toggleValue=$scope.items[index],modelIndex=$scope.ngModel.indexOf(toggleValue);modelIndex>-1?$scope.ngModel.splice(modelIndex,1):$scope.ngModel.push(toggleValue),$scope.$eval($scope.ngChange)}})}(angular),function(angular){"use strict";angular.module("toggleSelection",["toggleSelection.controller"]).directive("toggleSelection",function(){return{restrict:"AC",scope:{items:"=",ngModel:"=",ngChange:"&",size:"@"},replace:!0,templateUrl:"common/toggleSelection/view.html",link:function(scope){var i,j;if(scope.items){for(i=0;i<scope.items.length-1;i+=1)for(j=i+1;j<scope.items.length;j+=1)if(scope.items[j]===scope.items[i])throw new Error("items should be unique")}else scope.items=[];scope.ngModel||(scope.ngModel=[])},controller:"toggleSelectionController"}})}(angular),function(angular){"use strict";angular.module("grft.startup.gate.controller",["grft.startup.remover","goto","toaster"]).controller("startup_gate",function($scope,startups,removeStartup,goto,toaster){$scope.startups=startups,$scope["goto"]=goto,$scope.delete_startup=function(id){var promise=removeStartup(id),idIndex=-1;return promise["catch"](function(data){throw toaster.pop("error","Removing "+data.type+" failed","Code:"+data.status),new Error("Removing "+data.type+" failed. \nCode:"+data.status)}),$scope.startups.startups.forEach(function(el,index){return el.id===id?void(idIndex=index):void 0}),idIndex>-1?startups.startups.splice(idIndex,1):toaster.pop("warning","Profile deletion warning","The Startup Prodfile: "+id+" will be removed, but couldn't find the profile in local storage"),promise}})}(angular),function(angular){"use strict";angular.module("grft.startup.gate.route",["ui.router","grft.common.date.localizedFilter","grft.startup.wizard.route","grft.resources.startup","grft.startup.preview.route","grft.startup.profile.route","grft.startup.gate.controller"]).config(function($stateProvider){$stateProvider.state("startup_gate",{url:"/startup",templateUrl:"startup/gate/view.html",loginRequired:!0,resolve:{startups:function(Startup){return Startup.me()}},controller:"startup_gate"})})}(angular),function(angular){"use strict";angular.module("grft.startup.list.controller",["ui.router","toaster","grft.startup.constants"]).controller("startup_profile_list_controller",function($scope,$stateParams,toaster,categories,startups,Startup){var i;for($scope.startups=startups,$scope.categories=categories,$scope.selectList=["Option 1","Option 2","Option 3"],$scope.typeList=[],i=1;6>i;i+=1)$scope.typeList.push("Type "+i);$scope.criteria={},$scope.setup_startups=function(){Startup.demo().$promise.then(function(){$scope.startups=Startup.query({offset:parseInt($stateParams.p,10)||0,length:12})},function(data){toaster.pop("error","Demo Error","An error is occured on creating startups for demo.\nStatus:"+data.status+"\nMessage:"+data.data.message)})}})}(angular),function(angular){"use strict";angular.module("grft.startup.list.route",["ui.router","grft.resources.startup","grft.startup.list.controller","grft.startup.common.sticker.directive","grft.startup.list.parts.categoryBtn.directive","grft.startup.list.parts.filter.directive"]).config(function($stateProvider){$stateProvider.state("startup_profile_list",{url:"/startup/list?p",controller:"startup_profile_list_controller",templateUrl:"startup/list/view.html",resolve:{startups:function(Startup,$stateParams){return Startup.query({offset:parseInt($stateParams.p,10)||0,length:12})}}})})}(angular),function(angular){"use strict";angular.module("grft.startup.payment.controller",["grft.startup.constants","grft.resources.startup","ui.router","toaster"]).controller("startup_payment",function($scope,$state,toaster,startup){$scope.startup=startup,toaster.pop("info","WIP","This page is WIP")})}(angular),function(angular){"use strict";angular.module("grft.startup.payment.route",["ui.router","grft.resources.startup","grft.startup.common.sticker.directive","grft.startup.payment.controller"]).config(function($stateProvider){var substates=["investors","startup","review","fin"];$stateProvider.state("startup_payment",{url:"/startup/payment/:id","abstract":!0,resolve:{startup:function(Startup,$stateParams){return Startup.get({id:$stateParams.id})}},controller:"startup_payment",templateUrl:"startup/payment/view.html"}).state("startup_payment.main",{url:"",loginRequired:!0,parent:"startup_payment",templateUrl:"startup/payment/main.html"}),substates.forEach(function(state){$stateProvider.state("startup_payment."+state,{loginRequired:!0,url:"/"+state,templateUrl:"startup/payment/"+state+".html",parent:"startup_payment"})})})}(angular),function(angular){"use strict";angular.module("grft.startup.preview.controller",["grft.startup.constants","grft.resources.startup","grft.services.fileinfo","grft.startup.uploader","grft.startup.values.default","ui.router","toaster","mgcrea.ngStrap","ngAnimate","ngSanitize","ngTouch","angular-carousel","API"]).controller("startup_preview",function($scope,$state,$window,startup,createFileInfo,api){
var setInitialState=function(){$scope.files={info:{company:{logo:createFileInfo("startup.info.company.logo",$scope.startup.info.company.logo),condition:{statements:[{statement:createFileInfo("startup.info.company.condition.statements.statement",$scope.startup.info.company.condition.statements[0].statement)}]},carouselPictures:{image:[]}}},video:createFileInfo("startup.video",$scope.startup.video),product:{video:createFileInfo("startup.product.video",$scope.startup.product.video),plan:createFileInfo("startup.product.plan",$scope.startup.product.plan),pictures:{image:[]}},team:{owners:{face:[]},members:{face:[]}}},$scope.startup.team.members.forEach(function(index){$scope.files.team.members.face.push(createFileInfo("startup.team.members.face",index.face))}),$scope.startup.team.owners.forEach(function(index){$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face",index.face))}),$scope.startup.product.pictures.forEach(function(index){$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image",index.image))}),$scope.startup.info.company.carouselPictures.forEach(function(index,i){var image=index.image,imageFile=createFileInfo("startup.info.company.carouselPictures.image",image);$scope.files.info.company.carouselPictures.image.push(imageFile),image&&$scope.slides2.push({id:i,label:"slide #"+i,img:api("files/"+image)})}),$scope.amount=$scope.startup.info.capital.amount,$scope.inProgress=!1};startup&&startup.$promise?($scope.startup=startup,$scope.startup.$promise.then(setInitialState)):startup&&($scope.startup=startup,setInitialState()),$scope.tabs=[{heading:"About",route:"startup_preview.about",active:"active"},{heading:"Structure",route:"startup_preview.structure",active:""},{heading:"Financials",route:"startup_preview.financials",active:""},{heading:"Messages",route:"startup_preview.messages",active:""},{heading:"Investor Perks",route:"startup_preview.perks",active:""}],$scope.active=$state.is,$scope.go=$state.go("startup_preview.about"),$scope.window=$window,$scope.$on("$stateChangeSuccess",function(){$scope.tabs.forEach(function(tab){$scope.active(tab.route)?tab.active="active":tab.active=""})}),$scope.amount=1e6,$scope.progressBarstyle=function(){return{width:205e5/$scope.amount+"%"}},$scope.slides2=[],$scope.carouselIndex2=1})}(angular),function(angular){"use strict";angular.module("grft.startup.preview.route",["ui.router","grft.resources.startup","grft.startup.preview.controller","grft.startup.common.follow.directive"]).config(function($stateProvider){$stateProvider.state("startup_profile_profile",{url:"/startup/profile/:id",templateUrl:"startup/preview/view.html",resolve:{startup:function(Startup,$stateParams){return Startup.get({id:$stateParams.id})}},controller:"startup_preview"}).state("startup_profile_profile.about",{url:"/about",templateUrl:"startup/preview/about.html"}).state("startup_profile_profile.financials",{url:"/financials",templateUrl:"startup/preview/financials.html"}).state("startup_profile_profile.structure",{url:"/structure",templateUrl:"startup/preview/structure.html"}).state("startup_profile_profile.messages",{url:"/messages",templateUrl:"startup/preview/messages.html"}).state("startup_profile_profile.perks",{url:"/perks",templateUrl:"startup/preview/perks.html"}),$stateProvider.state("startup_preview",{url:"/startup/profile/:id/preview",templateUrl:"startup/preview/view.html",loginRequired:!0,resolve:{startup:function(Startup,$stateParams){return Startup.get({id:$stateParams.id})}},controller:"startup_preview"}).state("startup_preview.about",{url:"/about",parent:"startup_preview",templateUrl:"startup/preview/about.html"}).state("startup_preview.financials",{url:"/financials",parent:"startup_preview",templateUrl:"startup/preview/financials.html"}).state("startup_preview.structure",{url:"/structure",parent:"startup_preview",templateUrl:"startup/preview/structure.html"}).state("startup_preview.messages",{url:"/messages",parent:"startup_preview",templateUrl:"startup/preview/messages.html"}).state("startup_preview.perks",{url:"/perks",parent:"startup_preview",templateUrl:"startup/preview/perks.html"})})}(angular),function(angular){"use strict";angular.module("grft.startup.profile.controller",["grft.startup.constants","grft.resources.startup","grft.services.fileinfo","grft.startup.uploader","grft.startup.values.default","ui.router","toaster","mgcrea.ngStrap","ngAnimate","ngSanitize","ngTouch","angular-carousel","API"]).controller("profile_ctrl",function($scope,$state,$window,startup,establish_method,security_types,createFileInfo,yesno,duration,uploadStartup,toaster,api){var setInitialState=function(){$scope.files={info:{company:{logo:createFileInfo("startup.info.company.logo",$scope.startup.info.company.logo),condition:{statements:[{statement:createFileInfo("startup.info.company.condition.statements.statement",$scope.startup.info.company.condition.statements[0].statement)}]},carouselPictures:{image:[]}}},video:createFileInfo("startup.video",$scope.startup.video),product:{video:createFileInfo("startup.product.video",$scope.startup.product.video),plan:createFileInfo("startup.product.plan",$scope.startup.product.plan),pictures:{image:[]}},team:{owners:{face:[]},members:{face:[]}}},$scope.startup.team.members.forEach(function(index){$scope.files.team.members.face.push(createFileInfo("startup.team.members.face",index.face))}),$scope.startup.team.owners.forEach(function(index){$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face",index.face))}),$scope.startup.product.pictures.forEach(function(index){$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image",index.image))}),$scope.startup.info.company.carouselPictures.forEach(function(index,i){var image=index.image,imageFile=createFileInfo("startup.info.company.carouselPictures.image",image);$scope.files.info.company.carouselPictures.image.push(imageFile),image&&$scope.slides2.push({id:i,label:"slide #"+i,img:api("files/"+image)})}),$scope.amount=$scope.startup.info.capital.amount,$scope.inProgress=!1,$scope.saved=!1,$scope.uploadStartup=function(WIP){$scope.inProgress=!0,WIP?($scope.startup.WIP=!0,$scope.startup.last_modified=(new Date).toUTCString()):($scope.startup.WIP=!1,$scope.startup.last_modified=(new Date).toUTCString(),$scope.startup.current_step=0),uploadStartup($scope.startup,$scope.files.info.company.logo,$scope.files.info.company.condition.statements,$scope.files.video,$scope.files.product.video,$scope.files.product.plan,$scope.files.team.owners.face,$scope.files.team.members.face,$scope.files.product.pictures.image,$scope.files.info.company.carouselPictures.image).then(function(){WIP||$state.go("startup_profile.about"),$scope.inProgress=!1,$scope.saved=!0,null!==$scope.hideModal&&$scope.hideModal()},function(data){toaster.pop("error","Code:"+data.status,data.data.message||"Unknown Error!!")})}};startup&&startup.$promise?($scope.startup=startup,$scope.startup.$promise.then(setInitialState)):startup&&($scope.startup=startup,setInitialState()),$scope.tabs=[{heading:"About",route:"startup_profile.about",active:"active"},{heading:"Structure",route:"startup_profile.structure",active:""},{heading:"Financials",route:"startup_profile.financials",active:""},{heading:"Messages",route:"startup_profile.messages",active:""},{heading:"Investor Perks",route:"startup_profile.perks",active:""}],$scope.active=$state.is,$scope.go=$state.go("startup_profile.about"),$scope.window=$window,$scope.$on("$stateChangeSuccess",function(){$scope.tabs.forEach(function(tab){$scope.active(tab.route)?tab.active="active":tab.active=""})}),$scope.bindHideModalFunction=function(hideModalFunction){$scope.hideModal=hideModalFunction},$scope.addIndebtedness=function(outstanding,interest,maturity){$scope.startup.capital_raise.indebtedness.push({outstanding:outstanding,interest:interest,maturity:maturity})},$scope.removeIndebtedness=function(index){$scope.startup.capital_raise.indebtedness.splice(index,1)},$scope.addCarouselPicture=function(image){$scope.startup.info.company.carouselPictures.push({image:image}),$scope.files.info.company.carouselPictures.image.push(createFileInfo("startup.info.company.carouselPictures.image",image))},$scope.removeCarouselPicture=function(index){$scope.startup.info.company.carouselPictures.splice(index,1),$scope.files.info.company.carouselPictures||$scope.files.info.company.carouselPictures.image.splice(index,1)},$scope.addPicture=function(image){$scope.startup.product.pictures.push({image:image}),$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image",image))},$scope.removePicture=function(index){$scope.startup.product.pictures.splice(index,1),$scope.files.product.pictures||$scope.files.product.pictures.image.splice(index,1)},$scope.addOwner=function(name,face,ownership_percent){$scope.startup.team.owners.push({name:name,face:face,ownership_percent:ownership_percent}),$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face",face))},$scope.removeOwner=function(index){$scope.startup.team.owners.splice(index,1),$scope.files.team.owners||$scope.files.team.owners.image.splice(index,1)},$scope.addTeamMember=function(name,face,town,school,hobby,position,working_time,working_bio,has_external_employee,external_employer,title,email){$scope.startup.team.members.push({name:name,face:face,town:town,school:school,hobby:hobby,position:position,working_time:working_time,working_bio:working_bio,has_external_employee:has_external_employee,external_employer:external_employer,title:title,email:email}),$scope.files.team.members.face.push(createFileInfo("startup.team.members.face",face))},$scope.removeTeamMember=function(index){$scope.startup.team.members.splice(index,1),$scope.files.team.members||$scope.files.team.members.splice(index,1)},$scope.yesno=yesno,$scope.duration=duration,$scope.establish_method=establish_method,$scope.security_types=security_types,$scope.amount=1e6,$scope.progressBarstyle=function(){return{width:205e5/$scope.amount+"%"}},$scope.carouselIndex2=1,$scope.slides2=[]})}(angular),function(angular){"use strict";angular.module("grft.startup.profile.route",["ui.router","grft.common.date.localizedFilter","grft.startup.wizard.route","grft.startup.profile.controller","grft.startup.common.follow.directive"]).config(function($stateProvider){$stateProvider.state("startup_profile",{url:"/startup/profile/:id/edit",templateUrl:"startup/profile/view.html",loginRequired:!0,resolve:{startup:function(Startup,$stateParams){return Startup.get({id:$stateParams.id})}},controller:"profile_ctrl"}).state("startup_profile.about",{url:"/about",parent:"startup_profile",templateUrl:"startup/profile/about.html"}).state("startup_profile.financials",{url:"/financials",parent:"startup_profile",templateUrl:"startup/profile/financials.html"}).state("startup_profile.structure",{url:"/structure",parent:"startup_profile",templateUrl:"startup/profile/structure.html"}).state("startup_profile.messages",{url:"/messages",parent:"startup_profile",templateUrl:"startup/profile/messages.html"}).state("startup_profile.perks",{url:"/perks",parent:"startup_profile",templateUrl:"startup/profile/perks.html"})})}(angular),function(angular){"use strict";angular.module("grft.startup.wizard.controller",["grft.common.constants","grft.startup.constants","grft.resources.startup","grft.services.fileinfo","grft.startup.uploader","grft.startup.values.default","goto","ui.router","toaster","grft.startup.wizard.services.geoCoderService","grft.startup.wizard.validator"]).controller("startup_wizard",function($scope,$q,$state,startup,Startup,company_types,states_list,yesno,duration,establish_method,security_types,createFileInfo,uploadStartup,toaster,startup_default_value,startup_placeholder,ZipDecoder,person_role,financial_conditions,goto,validate_startup,company_established){var setInitialState=function(){var unwatchWizard,adjustFaces=function(){$scope.startup.team.members.forEach(function(el){var faceID=el.face;faceID?$scope.files.team.members.face.push(createFileInfo("startup.team.members.face",faceID)):$scope.files.team.members.face.push(createFileInfo("startup.team.members.face"))}),$scope.startup.team.owners.forEach(function(el){var faceID=el.face;faceID?$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face",faceID)):$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face"))}),$scope.startup.product.pictures.forEach(function(el){var imageID=el.image;imageID?$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image",imageID)):$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image"))}),$scope.startup.info.company.carouselPictures.forEach(function(el){var imageID=el.image;imageID?$scope.files.info.company.carouselPictures.image.push(createFileInfo("startup.info.company.carouselPictures.image",imageID)):$scope.files.info.company.carouselPictures.image.push(createFileInfo("startup.info.company.carouselPictures.image"))})};$scope.startup.WIP&&(unwatchWizard=$scope.$watch("__wizard__.startup_wizard",function(value){value&&($scope.__wizard__.startup_wizard.current=$scope.startup.current_step,unwatchWizard())})),$scope.files={info:{company:{logo:createFileInfo("startup.info.company.logo",$scope.startup.info.company.logo),condition:{statements:[{statement:createFileInfo("startup.info.company.condition.statements.statement",$scope.startup.info.company.condition.statements[0].statement)}]},carouselPictures:{image:[createFileInfo("startup.info.company.carouselPictures.image",$scope.startup.info.company.carouselPictures[0].image)]}}},video:createFileInfo("startup.video",$scope.startup.video),product:{video:createFileInfo("startup.product.video",$scope.startup.product.video),plan:createFileInfo("startup.product.plan",$scope.startup.product.plan),pictures:{image:[createFileInfo("startup.product.pictures.image",$scope.startup.product.pictures[0].image)]}},team:{owners:{face:[createFileInfo("startup.team.owners.face",$scope.startup.team.owners[0].face)]},members:{face:[createFileInfo("startup.team.members.face",$scope.startup.team.members[0].face)]}}},$scope.addExempt=function(desc,date,relied,securities,amount_sold,use_proceeds,related){$scope.startup.capital_raise.exempt.push({description:desc,date:date,relied:relied,securities:securities,amount_sold:amount_sold,use_proceeds:use_proceeds,related:related})},$scope.exemptChanged=function(){$scope.startup.capital_raise.has_exempt&&0===$scope.startup.capital_raise.exempt.length&&$scope.addExempt(null,null,null,null,null,null,null)},$scope.removeExempt=function(index){$scope.startup.capital_raise.exempt.splice(index,1)},$scope.addIndebtedness=function(outstanding,interest,maturity){$scope.startup.capital_raise.indebtedness.push({outstanding:outstanding,interest:interest,maturity:maturity})},$scope.indebtednessChanged=function(){$scope.startup.capital_raise.has_indebtedness&&0===$scope.startup.capital_raise.indebtedness.length&&$scope.addIndebtedness(null,null,null)},$scope.removeIndebtedness=function(index){$scope.startup.capital_raise.indebtedness.splice(index,1)},$scope.addCarouselPicture=function(image){$scope.startup.info.company.carouselPictures.push({image:image}),$scope.files.info.company.carouselPictures.image.push(createFileInfo("startup.info.company.carouselPictures.image",image))},$scope.removeCarouselPicture=function(index){$scope.startup.info.company.carouselPictures.splice(index,1),$scope.files.info.company.carouselPictures&&$scope.files.info.company.carouselPictures.image.splice(index,1)},$scope.addPicture=function(image){$scope.startup.product.pictures.push({image:image}),$scope.files.product.pictures.image.push(createFileInfo("startup.product.pictures.image",image))},$scope.removePicture=function(index){$scope.startup.product.pictures.splice(index,1),$scope.files.product.pictures&&$scope.files.product.pictures.image.splice(index,1)},$scope.addPerk=function(threshold_from,threshold_to,description){$scope.startup.product.perks.push({threshold_from:threshold_from,threshold_to:threshold_to,description:description})},$scope.removePerk=function(index){$scope.startup.product.perks.splice(index,1)},$scope.addOwner=function(name,face,ownership_percent){$scope.startup.team.owners.push({name:name,face:face,ownership_percent:ownership_percent}),$scope.files.team.owners.face.push(createFileInfo("startup.team.owners.face",face))},$scope.removeOwner=function(index){$scope.startup.team.owners.splice(index,1),$scope.files.team.owners&&$scope.files.team.owners.image.splice(index,1)},$scope.addTeamMember=function(name,face,town,school,hobby,position,working_time,working_bio,has_external_employee,external_employer,title,email){$scope.startup.team.members.push({name:name,face:face,town:town,school:school,hobby:hobby,position:position,working_time:working_time,working_bio:working_bio,has_external_employee:has_external_employee,external_employer:external_employer,title:title,email:email}),$scope.files.team.members.face.push(createFileInfo("startup.team.members.face",face))},$scope.removeTeamMember=function(index){$scope.startup.team.members.splice(index,1),$scope.files.team.members&&$scope.files.team.members.splice(index,1)},$scope.uploadStartup=function(WIP,currentStep){var defer=$q.defer();return WIP?($scope.startup.WIP=!0,$scope.startup.last_modified=(new Date).toUTCString(),$scope.startup.current_step=currentStep):($scope.startup.WIP=!1,$scope.startup.last_modified=(new Date).toUTCString(),$scope.startup.current_step=0),uploadStartup($scope.startup,$scope.files.info.company.logo,$scope.files.info.company.condition.statements[0].statement,$scope.files.video,$scope.files.product.video,$scope.files.product.plan,$scope.files.team.owners.face,$scope.files.team.members.face,$scope.files.product.pictures.image,$scope.files.info.company.carouselPictures.image).then(function(){WIP||$state.go("startup_profile",{id:$scope.startup.id}),defer.resolve("uploaded")},function(data){toaster.pop("error","Code:"+data.status,data.data.message||"Unknown Error!!"),defer.reject("uploading failed")}),defer.promise},$scope.formattedCompanyAddress=function(startup){if(null===startup.info.company.address.street&&null===startup.info.company.address.city&&null===startup.info.company.address.state&&null===startup.info.company.address.zip)return null;var getStringOrBlank=function(str,postfix){return null===str?"":str+postfix};return getStringOrBlank(startup.info.company.address.street,", ")+getStringOrBlank(startup.info.company.address.city,", ")+getStringOrBlank(startup.info.company.address.state,", ")+getStringOrBlank(startup.info.company.address.zip,"")},$scope.statBtnClicked=function(index){$scope.__wizard__.startup_wizard.current=index,$scope.uploadStartup(!0,$scope.__wizard__.startup_wizard.current)},adjustFaces(),$scope.startupLoaded=!0};$scope["goto"]=goto,$scope.startupLoaded=!1,startup&&startup.$promise?($scope.startup=startup,$scope.startup.$promise.then(setInitialState)):startup?($scope.startup=startup,setInitialState()):($scope.startup=new Startup(startup_default_value),setInitialState()),$scope.company_established=company_established,$scope.financial_conditions=financial_conditions,$scope.person_role=person_role,$scope.company_types=company_types,$scope.states_list=states_list,$scope.yesno=yesno,$scope.duration=duration,$scope.establish_method=establish_method,$scope.security_types=security_types,$scope.startup_placeholder=startup_placeholder,$scope.max=0,$scope.statusModel=[{label:"About"},{label:"Capital"},{label:"Pitch"},{label:"Team"}],$scope.displayRequiredAlert=!1,$scope.validate_startup=validate_startup,$scope.nextStep=function(){validate_startup($scope.__wizard__.startup_wizard.current,$scope.startup)?($scope.__wizard__.startup_wizard.next(),$scope.max+=1,$scope.displayRequiredAlert=!1):($scope.displayRequiredAlert=!0,goto("#startup-profile-wizard",750),toaster.pop("error","Missing fields","Please enter all mandatory fields"))},$scope.jump=function(number){number>$scope.__wizard__.startup_wizard.num_of_step&&toaster.pop("error","Step Length","num is greater than __wizard__.startup_wizard.num_of_step"),$scope.__wizard__.startup_wizard.jump(number)},$scope.getResults=function(zipcode){5===zipcode.length&&ZipDecoder.geocodeAddress(zipcode).then(function(result){$scope.startup.info.company.address.city=result.city,$scope.startup.info.company.address.state=result.state},function(error){toaster.pop("error","Couldn't find",error)})}})}(angular),function(angular){"use strict";angular.module("grft.startup.values.default",[]).factory("startup_default_value",function(){return{video:null,info:{company:{name:null,tagline:null,logo:null,formation:null,organized_date:null,organized_state:null,website:null,address:{street:null,city:null,state:null,zip:null},condition:{financial:null,statements:[{statement:null}]},carouselPictures:[{image:null}]},capital:{amount:null,excess:null,total:null,deadline:null,ownership_description:null,establish_level:null,valuation:{amount:null,establish:{method:null,description:null}},assets:{recent:null,previous:null},cash:{recent:null,previous:null},receivable:{recent:null,previous:null},debts:{"short":{recent:null,previous:null},"long":{recent:null,previous:null}},revenue:{recent:null,previous:null},COGS:{recent:null,previous:null}}},capital_raise:{security:"Equity",price:null,has_indebtedness:!1,indebtedness:[],has_exempt:!1,exempt:[]},product:{purpose:null,description:null,video:null,plan:null,pictures:[{image:null}],perks:[{threshold_from:null,threshold_to:null,description:null}]},team:{external_companies:[],num_employees:null,owners:[{name:null,face:null,ownership_percent:null}],members:[{name:null,face:null,town:null,school:null,hobby:null,position:null,working_time:null,working_bio:null,has_external_employee:!1,external_employer:null,title:null,email:null}]}}})}(angular),function(angular){"use strict";angular.module("grft.startup.wizard.route",["ui.router","wizard","wizard.step","placeholder","KeySteal","mgcrea.ngStrap","grft.common.statusbutton.directive","grft.resources.startup","grft.common.file.directive","grft.common.popoverHideCaller.directive","grft.common.currencyInput.directive","grft.startup.wizard.controller"]).config(function($stateProvider,$urlRouterProvider){$stateProvider.state("startup_wizard",{url:"/startup/wizard","abstract":!0,template:'<div data-ui-view data-autoscroll="false"></div>'}).state("startup_wizard.new",{url:"/new",resolve:{startup:function(){return null}},templateUrl:"startup/wizard/view.html",loginRequired:!0,controller:"startup_wizard"}).state("startup_wizard.edit",{url:"/:id",resolve:{startup:function(Startup,$stateParams){return Startup.get({id:$stateParams.id})}},loginRequired:!0,templateUrl:"startup/wizard/view.html",controller:"startup_wizard"}),$urlRouterProvider.when("/startup/wizard","/startup")})}(angular),function(angular){"use strict";angular.module("grft.startup.wizard.validator",[]).factory("__unused",function(){return function(){}}).factory("rcw_step0",function(){return function(startup){var ret=!!(startup.info.company.name&&startup.info.company.formation&&startup.info.company.organized_date&&startup.info.company.address.street&&startup.info.company.address.city&&startup.info.company.address.state&&startup.info.company.address.zip);return ret}}).factory("rcw_step1",function(){return function(startup){var ret=!!(startup.info.capital.deadline&&startup.info.capital.amount&&startup.info.capital.amount<=1e6);return ret}}).factory("rcw_step2",function(){return function(startup){var ret=!!startup.product.description;return ret}}).factory("rcw_step3",function(){return function(startup){var ret=!!startup.team.num_employees;return ret}}).factory("validate_startup",["rcw_step0","rcw_step1","rcw_step2","rcw_step3",function(){var validation=arguments;return function(step,startup){return validation[step](startup)}}])}(angular);try{zipCodeService(angular,google)}catch(e){zipCodeService(angular)}!function(angular){"use strict";angular.module("grft.tutorial.business.controller",[]).controller("tutorial.business",function($scope){$scope.items=[{id:"apply",name:"Apply",position:"top",slidePath:"tutorial/business/parts/slides/apply.html",knobBackgroundColor:"#B1B1B1",knobForegroundColor:"#22C1B9"},{id:"diligence",name:"Due<br>Diligence",position:"right",slidePath:"tutorial/business/parts/slides/due_diligence.html",knobBackgroundColor:"#7a7a7a",knobForegroundColor:"#006c66"},{id:"campaign",name:"Campaign",position:"bottom",slidePath:"tutorial/business/parts/slides/campaign.html",knobBackgroundColor:"#B1B1B1",knobForegroundColor:"#22C1B9"},{id:"raising",name:"Fund<br>Raising",position:"left",slidePath:"tutorial/business/parts/slides/fund_raising.html",knobBackgroundColor:"#7a7a7a",knobForegroundColor:"#006c66"}]})}(angular),function(angular){"use strict";angular.module("grft.tutorial.business.route",["ui.router","grft.tutorial.common.circle.directive","grft.tutorial.common.slider.directive","grft.tutorial.business.controller"]).config(function($stateProvider){$stateProvider.state("tutorial_business",{url:"/tutorial/business",templateUrl:"tutorial/business/view.html",controller:"tutorial.business"})})}(angular),function(angular){"use strict";angular.module("grft.tutorial.investor.controller",[]).controller("tutorial.investor",function($scope){$scope.sliderID="browse",$scope.items=[{id:"browse",position:"top",name:"Browse",slidePath:"tutorial/investor/parts/slides/browse.html",knobBackgroundColor:"#B1B1B1",knobForegroundColor:"#97C900"},{id:"register",position:"right",name:"Register",slidePath:"tutorial/investor/parts/slides/register.html",knobBackgroundColor:"#7a7a7a",knobForegroundColor:"#759f0d"},{id:"access",position:"bottom",name:"Access",slidePath:"tutorial/investor/parts/slides/access.html",knobBackgroundColor:"#B1B1B1",knobForegroundColor:"#97C900"},{id:"invest",position:"left",slidePath:"tutorial/investor/parts/slides/invest.html",name:"Invest",knobBackgroundColor:"#7a7a7a",knobForegroundColor:"#759f0d"}],$scope.selected={item:$scope.items[0]}})}(angular),function(angular){"use strict";angular.module("grft.tutorial.investor.route",["ui.router","grft.tutorial.investor.controller","grft.tutorial.common.circle.directive","grft.tutorial.common.slider.directive"]).config(function($stateProvider){$stateProvider.state("tutorial_investor",{url:"/tutorial/investor",templateUrl:"tutorial/investor/view.html",controller:"tutorial.investor"})})}(angular),function(ng){"use strict";ng.module("grft.about.parts.sidenav.directive",["ui.router"]).directive("aboutNav",function(){return{scope:{ngModel:"=",active:"="},restrict:"C",templateUrl:"about/parts/sidenav/view.html"}})}(angular),function(angular){"use strict";angular.module("grft.account.common.constants",[]).constant("investment_types",["Start-up","Private investment in exiting business","Hedge Fund","Private Equity","Venture Capital","Stocks-Bonds","Real Estate Investment"]).constant("investment_goals",["No preference","Capital appreciation","Current income"]).constant("investment_attributes",["Strength of the founders/team","Local business","Disruptive/revolutionary product","Industry","Existing revenue","Growth potential","Pays dividends"])}(angular),function(angular){"use strict";angular.module("grft.account.info.constants",[]).constant("gis_user_placeholder",{position_applied:{state:""},applicant_info:{first_name:"",middle_name:"",last_name:"",birth_date:"",ssn:"",current_address:"",current_city:"",current_state:"",current_zip:"",current_county:"",aliases:{name:{full_name:"",first_name:"",middle_name:"",last_name:""}}},previous_address:{street_address:"",city:"",state:"",zipcode:"",county:"",from_date:"",to_date:""}}).constant("yesno",[{name:"Yes",value:!0},{name:"No",value:!1}])}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("baseController",function($scope,$state,MyAdvisor,isDirtyAndInvalid){var wizardOrder=[$state.get("advisor_wizard.expertise"),$state.get("advisor_wizard.info"),$state.get("advisor_wizard.invest"),$state.get("advisor_wizard.meanwhile"),$state.get("advisor_wizard.category"),$state.get("advisor_wizard.resume"),$state.get("advisor_wizard.privacy")],setInitialState=function(a){a.WIP&&a.current_step?($scope.maximumState=angular.copy(a.current_step),$state.is(wizardOrder[$scope.maximumState])||$state.go(wizardOrder[$scope.maximumState])):($scope.maximumState=0,$scope.advisorStatus.current_step=0,$state.is(wizardOrder[0])||$state.go(wizardOrder[0]))};$scope.stepChanged=function(index,evMaxState){$state.go(wizardOrder[index]),$scope.advisorStatus.current_step=index,$scope.advisorStatus.$save(),!evMaxState&&index>$scope.maximumState&&($scope.maximumState=index)},$scope.maximumState=0,$scope.isDirtyInvalid=isDirtyAndInvalid,$scope.advisorStatus=MyAdvisor.status.get(setInitialState,function(){setInitialState({})}),$scope.statusModel=[{label:"Required"},{label:"Additional"},{label:"Confirm"}]})}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("categoryController",function($scope,investment_types,industry_list,MyAdvisor){$scope.investment_types=investment_types,$scope.industry_list=industry_list,$scope.interests=MyAdvisor.interests.get(),$scope.advisorInvestTypes=MyAdvisor.invest_types.get(),$scope.send=function(){$scope.interests.$save(),$scope.advisorInvestTypes.$save()},$scope.next=function(){$scope.send(),$scope.stepChanged(5)},$scope.back=function(){$scope.send(),$scope.stepChanged(3)}})}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("confirmController",function($scope,MyAdvisor){$scope.model=MyAdvisor.accerdited.get(),$scope.send=function(applied){$scope.advisorStatus.applied||($scope.model.applied=applied,$scope.model.$save(),$scope.$parent.advisorStatus.$get())},$scope.next=function(){$scope.send(!0),$scope.stepChanged(3)},$scope.back=function(){$scope.send(!1),$scope.stepChanged(1)}})}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("expertLevelController",function($scope,expertise_levels,MyAdvisor){$scope.expertise_levels=expertise_levels,$scope.$parent.statCurrent=0,$scope.model=MyAdvisor.expertise.get(),$scope.sendExpertise=function(){$scope.advisorStatus.applied?$scope.stepChanged(1):$scope.model.$save().then(function(){$scope.stepChanged(1)})}})}(angular),function(angular,Date){"use strict";angular.module("grft.advisor.wizard.controllers").controller("advisorInfoController",function($scope,education_levels,education_levels_has_bachelors,boolean_options,states_list,MyAdvisor){var relevant_job;$scope.nowYear=(new Date).getUTCFullYear(),$scope.same_employment=!1,$scope.education_levels=education_levels,$scope.boolean_options=boolean_options,$scope.states=states_list,$scope.last_employment=MyAdvisor.last_employment.get(void 0,void 0,void 0,function(){$scope.last_employment.period=[]}),$scope.related_employment=MyAdvisor.related_employment.get(void 0,void 0,void 0,function(){$scope.related_employment.period=[]}),$scope.education=MyAdvisor.education.get(),$scope.toggle_same_employment=function(checked){checked?(relevant_job=angular.copy($scope.related_employment),$scope.related_employment=new MyAdvisor.related_employment(angular.fromJson(angular.toJson($scope.last_employment))),$scope.infoForm.relevant.$setPristine()):$scope.related_employment=relevant_job},$scope.submit=function(){$scope.advisorStatus.applied||($scope.last_employment.$save(),$scope.related_employment.$save(),$scope.education.$save())},$scope.next=function(){$scope.submit(),$scope.stepChanged(2)},$scope.back=function(){$scope.submit(),$scope.stepChanged(0)},$scope.has_bachelors=function(level){return education_levels_has_bachelors.indexOf(level)>-1}})}(angular,Date),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("privacyController",function($scope,privacy_options,MyAdvisor){
$scope.expertise=MyAdvisor.expertise.get(),$scope.lastJob=MyAdvisor.last_employment.get(),$scope.relevantJob=MyAdvisor.related_employment.get(),$scope.education=MyAdvisor.education.get(),$scope.qualification=MyAdvisor.accerdited.get(),$scope.industries=MyAdvisor.interests.get(),$scope.investments=MyAdvisor.invest_types.get(),$scope.resume=MyAdvisor.resume.get(),$scope.privacy_options=privacy_options,$scope.expertiseLabels=[["level","Highest postition held"],["description","Additional Information of the position"]],$scope.lastJobHistoryLabels=[["employer","Current or Last Place of Employment"],["title","Job Title"],["description","Job Description"],["period","Employment Period"],["currently_working","Currently Working Here"]],$scope.relatedJobHistoryLabels=angular.copy($scope.lastJobHistoryLabels),$scope.relatedJobHistoryLabels[0][1]="Relevant Place of Employment",$scope.educationLabels=[["level","Highest Level of Education Attained"],["school","Name of school"],["city","The city where school located"],["state","The State/Region where school located"],["specialization","Area of Specialization"],["bachelors_school","Bachelor's Degree Earned in"]],$scope.qualificationLabels=[["qualifications","Qualifications"],["accerdited_investor","Investor Income"]],$scope.investorIncomeLabels={net_worth_yearly_200K:["Your individual income exceeded $200,000 in each of the","last 2 calendar years, or you had joint","income with your spouse that exceeded $300,000 in","each of those years. And you have a reasonable","expectation of reaching the same level in this","calendar year."].join(" "),net_worth_total_1M:["Your net worth, or joint net worth with your spouse,","exceeds $1,000,000."].join(" "),net_worth_yearly_200K_and_total_1M:"Both criteria apply.",none:"Neither criteria applies."},$scope.industryLabels=[["types","Industries of your interests"],["description","Additional Description of Industries"]],$scope.investmentLabels=[["types","Investments in your experience"],["description","Additional Description of Investments"]],$scope.submit=function(){$scope.advisorStatus.$save()}})}(angular),function(angular){"use strict";angular.module("grft.advisor.wizard.controllers").controller("resumeController",function($rootScope,$scope,FacePhoto,MyAdvisor,$q){$scope.resumeAcceptableFiles={PDF:{mime:"application/pdf",ext:".pdf"},Doc:{mime:"application/msword",ext:".doc"},DocX:{mime:"application/"+["vnd","openxmlformats-officedocument","wordprocessingml.document"].join("."),ext:".docs"}},$scope.profilePhotoAcceptableFiles={JPG:{mime:"image/jpeg",ext:".jpg"},PNG:{mime:"image/png",ext:".png"}},$scope.profilePicture={info:FacePhoto.Info.get(),selection:FacePhoto.Selection.get()},$scope.resume=MyAdvisor.resume.get(),$scope.back=function(){$scope.send(),$scope.stepChanged(4)},$scope.next=function(){$scope.send(),$scope.stepChanged(6)},$scope.uploadProfilePicture=function(){var facephotoPromise;$scope.profilePicture.info.body&&(facephotoPromise=$scope.profilePicture.info.id?$q.all([$scope.profilePicture.info.$update(),$scope.profilePicture.selection.$update()]):$scope.profilePicture.info.$save().then(function(){return $scope.profilePicture.selection.$save()}),facephotoPromise.then(function(){$rootScope.user.$get(),$rootScope.refreshProfilePictureOnRightMenu&&$rootScope.refreshProfilePictureOnRightMenu()}))},$scope.send=function(){$scope.resume.body&&($scope.resume.reference="advisor.resume",$scope.resume.id?$scope.resume.$update():$scope.resume.$save())}})}(angular),function(angular){"use strict";angular.module("currencyMask",[]).directive("currencyMask",["$filter",function(filter){return{restrict:"AC",require:"?ngModel",scope:{canBeNeg:"=",canBeZero:"=",maxVal:"="},link:function(scope,element,attrs,ngModelController){ngModelController.$parsers.push(function(value){return parseFloat(value.replace(/[^0-9\.]/g,""))}),ngModelController.$formatters.push(function(value){return ngModelController.$isEmpty(value)?value:(value=parseFloat(value.replace(/[^0-9\.]/g,"")),"$"+filter("number")(value))}),ngModelController.$validators.number=isFinite,ngModelController.$validators.min=function(value){return 0===value&&scope.canBeZero||0>value&&scope.canBeNeg||value>0},void 0!==scope.maxVal&&(ngModelController.$validators.max=function(value){return value<=scope.maxVal}),ngModelController.$viewChangeListeners.push(function(){var index;for(index=ngModelController.$formatters.length-1;index>=0;index-=1)ngModelController.$setViewValue(ngModelController.$formatters[index](ngModelController.$viewValue));ngModelController.$render()}),scope.$watch(function(){return ngModelController.$viewValue},function(value,prev){value&&value.match(/(^\$?[\d\.\,]*[^\d\$\.\,]+|^[^\$][\d\.\,]*)/)&&(ngModelController.$setViewValue(prev),ngModelController.$render())})}}}])}(angular),function(angular,$){"use strict";angular.module("grft.calculators.service.industry",[]).factory("Industry",function($http,$q){var csvUrl="calculators/common/industry/data/industy-multiples.csv",result=!1,data=[],retrieveData=function(){var deferred=$q.defer();return $http({url:csvUrl}).success(function(response){var rows,header;result=response,rows=$.csv.toArrays(result,{separator:"|"}),header=rows[0],$.map(rows.slice(1,rows.length),function(row){var newRow={};$.each(header,function(k,v){newRow[v]=row[k]}),data.push(newRow)}),deferred.resolve(data)}).error(function(){}),deferred.promise};return{retrieveData:retrieveData,getData:function(){return data}}})}(angular,$),function(angular){"use strict";angular.module("API",["pathJoin"]).constant("APIPrefixPath","/api/v1").factory("api",function(pathJoin,APIPrefixPath){return function(){return pathJoin(APIPrefixPath,arguments)}}).filter("api",function(api){return function(input,prefix){return api(prefix,input)}})}(angular),function(angular){"use strict";angular.module("pathJoin",[]).factory("pathJoin",function(){var pathJoinPrivate=function(){var index,el,elIndex,elel,pathTrailingChar,path="";for(index=0;index<arguments.length;index+=1)if(el=arguments[index],el&&el.length>0)if("object"==typeof el)for(elIndex=0;elIndex<el.length;elIndex+=1)elel=el[elIndex],path=pathJoinPrivate(path,elel);else pathTrailingChar=path[path.length-1],path+=!path||path.length<1||"/"===pathTrailingChar||"/"===el[0]?el:"/"+el;return path};return pathJoinPrivate})}(angular),function(angular){"use strict";angular.module("wizard.controller",[]).controller("wizCtrl",function($scope,$attrs,$window){var key,param_index,attr_param={onStepChanged:"&",wizardName:"@"};for(key in $attrs)if($attrs.hasOwnProperty(key)&&(param_index=Object.keys(attr_param).indexOf(key),param_index>=0))switch($scope[key]=$attrs[key],attr_param[key]){case"=":$scope[key]=$scope.$eval($scope[key])}if(!$scope.wizardName)throw new Error("wizard-name data is required");if($scope.$parent.__wizard__||($scope.$parent.__wizard__={}),$scope.$parent.__wizard__[$scope.wizardName])throw new Error($scope.wizardName+" already exists.");$scope.$parent.__wizard__[$scope.wizardName]={current:0,num_of_step:0,next:function(){$scope.$parent.__wizard__[$scope.wizardName].current+=1,$scope.$eval($scope.onStepChanged),$window.scrollTo(0,0)},previous:function(){$scope.$parent.__wizard__[$scope.wizardName].current-=1,$scope.$eval($scope.onStepChanged),$window.scrollTo(0,0)},jump:function(step){if(!(step<$scope.$parent.__wizard__[$scope.wizardName].num_of_step))throw new Error("Step numebr: "+step+" not found");var cur=$scope.$parent.__wizard__[$scope.wizardName].current;cur!==step&&($scope.$parent.__wizard__[$scope.wizardName].current=step,$scope.$eval($scope.onStepChanged),$window.scrollTo(0,0))},current_title:null},this.append=function(){return $scope.$parent.__wizard__[$scope.wizardName].num_of_step+=1,$scope.$parent.__wizard__[$scope.wizardName].num_of_step-1},this.next=$scope.$parent.__wizard__[$scope.wizardName].next,this.previous=$scope.$parent.__wizard__[$scope.wizardName].previous,this.jump=$scope.$parent.__wizard__[$scope.wizardName].jump,this.currentStep=function(){return $scope.$parent.__wizard__[$scope.wizardName].current},this.changeTitle=$scope.changeTitle=function(title){$scope.$parent.__wizard__[$scope.wizardName].current_title=title}})}(angular),function(angular){"use strict";angular.module("wizard",["wizard.controller"]).directive("wizard",function(){return{restrict:"AE",transclude:!0,replace:!0,templateUrl:"common/wizard/wizard/view.html",scope:!0,controller:"wizCtrl"}})}(angular),function(angular){"use strict";angular.module("wizard.step",["wizard"]).directive("wizardstep",function($compile,$http){return{restrict:"AE",transclude:!0,replace:!0,require:"^wizard",scope:!0,templateUrl:"common/wizard/wizardstep/view.html",compile:function(){return{pre:function(scope,element,attr,wizardCtrl){var key;for(key in attr)attr.hasOwnProperty(key)&&("title"!==key&&"contentUrl"!==key||(scope[key]=attr[key]));scope.this_step=wizardCtrl.append(),scope.step=wizardCtrl.currentStep,scope.wizard=wizardCtrl,0===scope.this_step&&scope.wizard.changeTitle(scope.title)},post:function(scope,iElem){var compileStep=function(content){return function(data){content.append($compile(angular.element(data))(scope))}},fetchStep=function(){var content=iElem.find(".wizard-content");content.children().length<1&&$http.get(scope.contentUrl).success(compileStep(content))},stepChanged=function(newValue){newValue===scope.this_step&&(scope.wizard.changeTitle(scope.title),scope.contentUrl&&fetchStep())},unwatch=scope.$watch(function(){return scope.step()},stepChanged),contentElementsCount=iElem.find(".wizard-content").children().length;if(scope.contentUrl&&contentElementsCount>0)throw unwatch(),new Error("Either (NOT Both) template url or transclude should be specified.")}}}}})}(angular),function(angular){"use strict";angular.module("grft.startup.constants",[]).constant("company_types",["LLC","partnership","corp"]).constant("categories",[{icon:null,name:"Category"},{icon:null,name:"Category"},{icon:null,name:"Category"},{icon:null,name:"Category"},{icon:null,name:"Category"},{icon:null,name:"Category"}]).constant("yesno",[{name:"Yes",value:!0},{name:"No",value:!1}]).constant("duration",[{name:"30 days",value:"30 days"},{name:"60 days",value:"60 days"}]).constant("company_established",[{name:"Brand New",value:"0"},{name:"Established",value:"5"}]).constant("person_role",[{name:"Officer",value:"Officer"},{name:"Director",value:"Director"},{name:"Employee",value:"Employee"}]).constant("financial_conditions",[{text:"If less than $100,000: financials have to be signed by the CEO"},{text:"If $100,001-$500,000: financials have to be signed by an independent public accountant"},{text:"If $500,001 to $1,000,000: financials have to be signed by an independent auditor"},{text:"Amount in excess of $1,000,000 will not be accepted"}]).constant("establish_method",["GF Established Business","GF Startup","GF Payback Equity","Other"]).constant("security_types",["Equity","Payback Equity"]).constant("startup_placeholder",{video:null,info:{company:{name:"Your Company Name",tagline:"Example: Helping You Succeed",logo:null,formation:"LLC",organized_date:"Jan 01, 2010",organized_state:"Delaware",website:"",twitter:"",facebook:"",address:{street:"123 Main St",city:"Springfield",state:"Illinois",zip:"62701"},condition:{financial:null,statements:[{statement:null}]},carouselPictures:[{image:null}]},capital:{amount:"$1,000,000.00 USD",excess:!1,total:"$1,000,000.00 USD",deadline:"30 days",ownership_description:null,valuation:{amount:"$1,000,000.00 USD",establish:{method:null,description:null}},assets:{recent:null,previous:null},cash:{recent:null,previous:null},receivable:{recent:null,previous:null},debts:{"short":{recent:null,previous:null},"long":{recent:null,previous:null}},revenue:{recent:null,previous:null},COGS:{recent:null,previous:null}}},capital_raise:{security:null,price:"$USD 100",indebtedness:[],exempt:[],related_offerings:null},product:{purpose:null,description:null,video:null,plan:null,pictures:[{image:null}],perks:[{threshold_from:null,threshold_to:null,description:null}]},team:{external_companies:[],num_employees:null,owners:[],members:[]}})}(angular),function(angular){"use strict";angular.module("grft.startup.common.follow.controller",["grft.resources.startup"]).controller("followController",function($scope,Startup){try{$scope.startup.status.followers||($scope.startup.status.followers=[])}catch(e){$scope.startup.status||($scope.startup.status={}),$scope.startup.status.followers=[]}$scope.switchFollow=function(){var amIFollowing=$scope.startup.status.followers.indexOf($scope.user.id),resource=new Startup;resource.id=$scope.startup.id,0>amIFollowing?resource.$follow().then(function(){$scope.startup.status.followers.push($scope.user.id)}):resource.$unfollow().then(function(){$scope.startup.status.followers.splice(amIFollowing,1)})}})}(angular),function(angular){"use strict";angular.module("grft.startup.common.follow.directive",["grft.startup.common.follow.controller"]).directive("follow",function(){return{restrict:"A",scope:{startup:"=",user:"="},controller:"followController",templateUrl:"startup/common/follow/view.html"}})}(angular),function(angular){"use strict";angular.module("grft.startup.remover",["grft.resources.startup","grft.resources.files"]).factory("removeStartup",function(Startup,FileStorage,$q){var defer=$q.defer();return function(startup_id){return Startup.get({id:startup_id}).$promise.then(function(startup_data){var fileIDsToDelete=[startup_data.info.company.logo,startup_data.video,startup_data.product.video,startup_data.product.plan],fileDeletionError=function(){return function(data){defer.reject({data:data,type:"file"})}};startup_data.info.company.condition.statements.forEach(function(statement){fileIDsToDelete.push(statement.statement)}),startup_data.team.owners.forEach(function(owner){fileIDsToDelete.push(owner.face)}),startup_data.team.members.forEach(function(member){fileIDsToDelete.push(member.face)}),startup_data.product.pictures.forEach(function(picture){fileIDsToDelete.push(picture.image)}),startup_data.info.company.carouselPictures.forEach(function(picture){fileIDsToDelete.push(picture.image)}),fileIDsToDelete.forEach(function(el){el&&FileStorage.data["delete"]({id:el}).$promise["catch"](fileDeletionError(el))}),Startup.remove({id:startup_id}).$promise.then(function(){defer.resolve()},function(data){defer.reject({data:data,type:"profile"})})}),defer.promise}})}(angular),function(angular){"use strict";angular.module("grft.resources.startup",["ngResource","API"]).factory("Startup",function($resource,api){return $resource(api("/startup/:id"),{id:"@id"},{update:{method:"PUT"},remove:{method:"DELETE"},query:{method:"GET",url:api("/startup/list")},me:{method:"GET",url:api("/startup/list/me"),cache:!1},get:{method:"GET",cache:!1},save:{method:"POST",url:api("/startup")},demo:{method:"POST",url:api("/startup","list","demo")},unfollow:{method:"DELETE",url:api("/startup","followers",":id")},follow:{method:"POST",url:api("/startup","followers",":id")}})})}(angular),function(angular){"use strict";angular.module("grft.startup.common.sticker.controller",["grft.services.fileinfo","grft.startup.common.sticker.service","grft.startup.common.sticker.filter"]).controller("startup_list_sticker_controller",function($scope,createFileInfo,$filter,weeklyAmount){$scope.investmentPercentage=function(){var currentAmount=parseInt($filter("currentAmount")($scope.currentAmount),10);return currentAmount>$scope.inPlanAmount?100:$scope.inPlanAmount?Math.round(currentAmount/$scope.inPlanAmount*100):0},$scope.calculateWeeklyInvestment=function(){var amount_weekly=weeklyAmount($scope.currentAmount),prev=amount_weekly[amount_weekly.length-2],cur=amount_weekly[amount_weekly.length-1],ret=parseInt((cur-prev)/prev*100,10)||null;return $scope.config.startup?prev<$scope.config.startup.list.weekly_percentage.min.amount||ret<$scope.config.startup.list.weekly_percentage.min.rate?void($scope.weeklyRate=null):void($scope.weeklyRate=ret):void($scope.weeklyRate=void 0)},$scope.$watch("config.startup.list.weekly_percentage.min",function(value){value&&$scope.calculateWeeklyInvestment()},!0),$scope.$watch("currentAmount",function(value){value&&value.length>0&&$scope.calculateWeeklyInvestment()},!0);var logo_category="startup.info.company.logo";$scope.imageId?($scope.imgInfo=createFileInfo(logo_category,$scope.imageId),$scope.imgInfo.promise.then(function(){$scope.imageFound=$scope.imgInfo.reference===logo_category&&$scope.imgInfo.id===$scope.imageId&&$scope.imgInfo.type.match(/image\/.+/).length>0},function(){$scope.imageFound=!1})):$scope.imageFound=!1})}(angular),function(angular){"use strict";angular.module("grft.startup.common.sticker.directive",["grft.startup.common.sticker.parts.amountProgressbar.directive","grft.startup.profile.route","grft.startup.common.sticker.controller","grft.startup.common.sticker.filter","API"]).directive("profileSticker",function(){return{restrict:"A",templateUrl:"startup/common/sticker/view.html",scope:!0,link:function(scope,elem,attr){var key,attr_to_add={name:"@",profileId:"=",state:"@",city:"@",tagline:"@",totalAmount:"=",inPlanAmount:"=",currentAmount:"=",imageId:"="};for(key in attr_to_add)attr_to_add.hasOwnProperty(key)&&("="===attr_to_add[key]?scope[key]=scope.$eval(attr[key]):scope[key]=attr[key])},controller:"startup_list_sticker_controller"}})}(angular),function(angular){"use strict";angular.module("grft.startup.common.sticker.filter",[]).filter("currentAmount",function(){return function(current){if(current){var ret=0;return current.forEach(function(el){ret+=el.amount}),ret.toString()}return"0"}})}(angular),function(angular,$){"use strict";angular.module("grft.startup.common.sticker.service",[]).factory("weeklyAmount",function(){return function(current_investment){if(!current_investment)return[];var previous=null,result=[],zeroFill=function(weeks){var i;for(i=0;weeks-1>i;i+=1)result.push(0)};return current_investment.forEach(function(el){var yearIndex,invest_date=new Date(el.invest_date),weeks=null;if(previous instanceof Date){if(weeks=$.datepicker.iso8601Week(invest_date)-$.datepicker.iso8601Week(previous),0>weeks)for(yearIndex=previous.getUTCFullYear();yearIndex<invest_date.getUTCFullYear();yearIndex+=1)weeks+=52;0===weeks?result[result.length-1]+=el.amount:(zeroFill(weeks),result.push(el.amount)),previous=invest_date}else result.push(el.amount),previous=invest_date}),result}})}(angular,$),function(angular){"use strict";angular.module("grft.startup.uploader",["grft.services.files.uploader"]).factory("uploadStartup",function(uploadFile,$q){return function(startup_object,info_company_logo,info_company_condition_statements,startup_video,product_video,product_plan,team_owner_faces,team_member_faces,product_pictures,carouselPictures){var fileUploadStatus={info_company_logo:null,info_company_condition_statements:null,startup_video:null,product_video:null,product_plan:null,team_owner_faces:[],team_member_faces:[],product_pictures:[],carousel_pictures:[]},fileUploadCompleted=$q.defer(),startupDefer=$q.defer(),checkFileUploadStatus=function(){var key,el,index;for(key in fileUploadStatus)if(fileUploadStatus.hasOwnProperty(key))if(el=fileUploadStatus[key],el instanceof Array){for(index=0;index<el.length;index+=1)if(!el[index])return}else if(!el)return;fileUploadCompleted.resolve()},updateOwnerFaceStatusSuccess=function(index){return function(data){"boolean"!=typeof data&&(startup_object.team.owners[index].face=data),fileUploadStatus.team_owner_faces[index]=data}},updateOwnerFaceStatusFailed=function(index){return function(){startup_object.team.owners[index].face=null,fileUploadStatus.team_owner_faces[index]=!0}},updateMemberFaceStatusSuccess=function(index){return function(data){"boolean"!=typeof data&&(startup_object.team.members[index].face=data),fileUploadStatus.team_member_faces[index]=data}},updateMemberFaceStatusFailed=function(index){return function(){startup_object.team.members[index].face=null,fileUploadStatus.team_member_faces[index]=!0}},updateProductPictureStatusSuccess=function(index){return function(data){"boolean"!=typeof data&&(startup_object.product.pictures[index].image=data),fileUploadStatus.product_pictures[index]=data}},updateProductPictureStatusFailed=function(index){return function(){startup_object.product.pictures[index].image=null,fileUploadStatus.product_pictures[index]=!0}},updateCarouselPictureStatusSuccess=function(index){return function(data){"boolean"!=typeof data&&(startup_object.info.company.carouselPictures[index].image=data),fileUploadStatus.carousel_pictures[index]=data}},updateCarouselPictureStatusFailed=function(index){return function(){startup_object.info.company.carouselPictures[index].image=null,fileUploadStatus.carousel_pictures[index]=!0}},uploadStartupCompleted=function(data){startupDefer.resolve(data)};return carouselPictures.forEach(function(){fileUploadStatus.carousel_pictures.push(null)}),product_pictures.forEach(function(){fileUploadStatus.product_pictures.push(null)}),team_owner_faces.forEach(function(){fileUploadStatus.team_owner_faces.push(null)}),team_member_faces.forEach(function(){fileUploadStatus.team_member_faces.push(null)}),uploadFile(info_company_logo).then(function(data){"boolean"!=typeof data&&(startup_object.info.company.logo=data),fileUploadStatus.info_company_logo=data},function(){startup_object.info.company.logo=null,fileUploadStatus.info_company_logo=!0})["finally"](checkFileUploadStatus),uploadFile(info_company_condition_statements).then(function(data){"boolean"!=typeof data&&(startup_object.info.company.condition.statements[0].statement=data),fileUploadStatus.info_company_condition_statements=data},function(){startup_object.info.company.statements[0].statement=null,fileUploadStatus.info_company_condition_statements=!0})["finally"](checkFileUploadStatus),uploadFile(startup_video).then(function(data){"boolean"!=typeof data&&(startup_object.video=data),fileUploadStatus.startup_video=data},function(){startup_object.video=null,fileUploadStatus.startup_video=!0})["finally"](checkFileUploadStatus),uploadFile(product_video).then(function(data){"boolean"!=typeof data&&(startup_object.product.video=data),fileUploadStatus.product_video=data},function(){startup_object.product.video=null,fileUploadStatus.product_video=!0})["finally"](checkFileUploadStatus),uploadFile(product_plan).then(function(data){"boolean"!=typeof data&&(startup_object.product.plan=data),fileUploadStatus.product_plan=data},function(){startup_object.product.plan=null,fileUploadStatus.product_plan=!0})["finally"](checkFileUploadStatus),team_owner_faces.forEach(function(el,index){uploadFile(el).then(updateOwnerFaceStatusSuccess(index),updateOwnerFaceStatusFailed(index))["finally"](checkFileUploadStatus)}),team_member_faces.forEach(function(el,index){uploadFile(el).then(updateMemberFaceStatusSuccess(index),updateMemberFaceStatusFailed(index))["finally"](checkFileUploadStatus)}),product_pictures.forEach(function(el,index){uploadFile(el).then(updateProductPictureStatusSuccess(index),updateProductPictureStatusFailed(index))["finally"](checkFileUploadStatus())}),carouselPictures.forEach(function(el,index){uploadFile(el).then(updateCarouselPictureStatusSuccess(index),updateCarouselPictureStatusFailed(index))["finally"](checkFileUploadStatus())}),fileUploadCompleted.promise.then(function(){startup_object.id?startup_object.$update().then(uploadStartupCompleted):startup_object.$save().then(uploadStartupCompleted)}),startupDefer.promise}})}(angular),function(angular){"use strict";angular.module("grft.tutorial.common.slider.controller",["ngSanitize"]).controller("tutorialSliderControl",function($scope){$scope.currentItemIndex=$scope.items.indexOf($scope.ngModel)})}(angular),function(angular){"use strict";angular.module("grft.tutorial.common.slider.directive",["ngSanitize","grft.tutorial.common.slider.controller"]).directive("tutorialSlider",function($rootScope,$timeout,$http){return{restrict:"A",replace:!0,templateUrl:"tutorial/common/carousel/view.html",scope:{ngModel:"=",items:"="},compile:function(elem){return elem.find("#slider").owlCarousel({navigation:!1,slideSpeed:300,paginationSpeed:400,singleItem:!0,afterMove:function(){$timeout(function(){$rootScope.$apply()},0,!1)}}),{pre:function(scope){if(4!==scope.items.length)throw new Error("The items should be 4 items.");var bodies=[],request_completion_counter=0,receiveCompleted=function(index){return function(body){bodies[index]=body,request_completion_counter+=1,4===request_completion_counter&&bodies.forEach(function(body_el){elem.find("#slider").data("owlCarousel").addItem('<div class="item">'+body_el+"</div>")})}};scope.items.forEach(function(el,itemIndex){bodies.push(null),$http.get(el.slidePath).success(receiveCompleted(itemIndex))})},post:function(scope){var watchSliderID=function(){return scope.$watch("ngModel",function(value,prev){if(value!==prev){var index=scope.items.indexOf(value);index>=0&&elem.find("#slider").data("owlCarousel").goTo(index)}},!0)},unwatchSliderID=watchSliderID();scope.$watch(function(){return parseInt(elem.find("#slider").data("owlCarousel").currentItem,10)},function(value,prev){value!==prev&&(unwatchSliderID(),scope.ngModel=scope.items[value],unwatchSliderID=watchSliderID())}),scope.nextSlide=function(){var currentItem=elem.find("#slider").data("owlCarousel").currentItem;elem.find("#slider").data("owlCarousel").goTo((parseInt(currentItem,10)+1)%4)}}}},controller:"tutorialSliderControl"}})}(angular),function(angular){"use strict";angular.module("grft.tutorial.common.circle.animation",["ngAnimate"]).factory("cancel_animation",function(){return function(animatingElement){return function(cancel_flag){cancel_flag&&animatingElement.stop()}}}).factory("animateWithClass",function(cancel_animation){return function(className,mode,duration,activeClass,animateFuncWhenAdd,animateFuncWhenRemove){return className===activeClass&&("add"===mode?animateFuncWhenAdd(duration):animateFuncWhenRemove(duration)),cancel_animation}}).animation(".graph-wrap",function(animateWithClass){var fadeIn=function(element,done){return function(duration){element.fadeTo(duration,1,done)}},fadeOut=function(element,done){return function(duration){element.fadeTo(duration,0,done)}};return{addClass:function(element,className,done){return animateWithClass(className,"add",500,"graph-active",fadeIn(element,done),fadeOut(element,done))},removeClass:function(element,className,done){return animateWithClass(className,"remove",500,"graph-active",fadeIn(element,done),fadeOut(element,done))}}}).animation(".k-active",function(animateWithClass){var activeSwing=function(element,done){return function(duration){element.animate({value:100},{duration:duration,easing:"swing",step:function(){element.val(Math.ceil(this.value)).trigger("change")},complete:done})}},deactivate=function(element,done){return function(){element.val(0).trigger("change"),done()}};return{addClass:function(element,className,done){return animateWithClass(className,"add",500,"active",activeSwing(element.find("input"),done),deactivate(element.find("input"),done))},removeClass:function(element,className,done){return animateWithClass(className,"remove",500,"active",activeSwing(element.find("input"),done),deactivate(element.find("input"),done))}}}).animation(".k-inactive",function(animateWithClass){var activate=function(element,done){return function(duration){element.animate({value:100},{duration:duration,easing:"swing",step:function(){element.val(Math.ceil(this.value)).trigger("change")},complete:done})}},deactivate=function(element,done){return function(){element.val(0).trigger("change"),done()}};return{addClass:function(element,className,done){return animateWithClass(className,"add",500,"active",activate(element.find("input"),done),deactivate(element.find("input"),done))},removeClass:function(element,className,done){return animateWithClass(className,"remove",500,"active",activate(element.find("input"),done),deactivate(element.find("input"),done))}}})}(angular),function(angular){"use strict";angular.module("grft.tutorial.common.circle.control",["grft.tutorial.common.circle.service"]).controller("tutorialCircleControl",function($scope,$element,switchPie){$scope.getKnobOffset=function(index){return 0===index?-48:90*(index-1)},$scope.getKnobArc=function(index){return 0===index?48:index>0&&3>index?90:115},$scope.setModel=function(item){$scope.ngModel=item},$scope["switch"]=function(id,previous){var promise=switchPie($element,id,previous);promise.then(function(){$scope.current=$scope.ngModel})},$scope.current=$scope.ngModel||$scope.items[0]})}(angular),function(angular,$){"use strict";angular.module("grft.tutorial.common.circle.directive",["ngAnimate","grft.tutorial.common.circle.service","grft.tutorial.common.circle.animation","grft.tutorial.common.circle.control"]).directive("tutorialCircle",function($window,$animate,$timeout,activatePie){return{restrict:"AC",replace:!0,scope:{ngModel:"=",items:"="},compile:function(){return{pre:function(scope,element){if(4!==scope.items.length)throw new Error("items should be 4 items");var unwatch_knob_generator=scope.$watch(function(){return element.find(".knob").length},function(value){if(8===value){scope.knob=element.find(".knob"),scope.knob.knob(),scope.resize=function(sizeEnum){var sizeonSide={small:215,middle:320,large:350};scope.knob.trigger("configure",{width:sizeonSide[sizeEnum],height:sizeonSide[sizeEnum]})};var resize=function(){var width=$window.innerWidth;scope.mobile=768>width,980>=width?scope.resize("small"):1024>=width?scope.resize("middle"):scope.resize("large")};$($window).resize(resize),resize(),unwatch_knob_generator()}})},post:function(scope,element){var graph=element.find(".graph-wrap");$timeout(function(){$animate.addClass(graph[0],"graph-active").then(function(){graph.css("opacity")<1?graph.fadeTo(500,1,function(){activatePie(graph,scope.ngModel.id)}):activatePie(graph,scope.ngModel.id)})},0,!1),scope.$watch("ngModel",function(value,previous){value!==previous&&value&&scope["switch"](value?value.id:void 0,previous?previous.id:void 0)},!0)}}},templateUrl:"tutorial/common/circle/view.html",controller:"tutorialCircleControl"}})}(angular,$),function(angular){"use strict";angular.module("grft.tutorial.common.circle.service",["ngAnimate","grft.tutorial.common.circle.animation"]).factory("activatePie",function($animate){return function(element,knobID){var knob=element.find(".knob.k-"+knobID).parent().parent();return knob.addClass("up"),$animate.addClass(knob,"active")}}).factory("deactivatePie",function($q,$animate,$rootScope){return function(element,knobID){var defer=$q.defer(),unwatch=$rootScope.$watch(function(){return element.find(".k-active.up")[0]},function(value){if(value){var currentActiveObj=element.find(".k-active.up"),inactiveKnob=element.find(".knob.k-"+knobID+"-off");inactiveKnob=inactiveKnob.parent().parent(),currentActiveObj.removeClass("up"),inactiveKnob.addClass("up"),$animate.addClass(inactiveKnob,"active").then(function(){$animate.removeClass(currentActiveObj,"active").then(function(){inactiveKnob.removeClass("up"),$animate.removeClass(inactiveKnob,"active").then(function(){defer.resolve()})})}),unwatch()}});return defer.promise}}).factory("switchPie",function(deactivatePie,activatePie,$q){return function(element,id,previous_id){var animationEvent,swDefer=$q.defer();return previous_id&&(animationEvent=deactivatePie(element,previous_id),animationEvent.then(function(){activatePie(element,id).then(swDefer.resolve)})),swDefer.promise}})}(angular),function(angular){"use strict";angular.module("grft.login.controller",["ui.router","errorReporter","grft.account.oauth","grft.resources.user","grft.services.notify"]).controller("GRFTAccountLoginControl",function($scope,$rootScope,UserSession,$state,$q,oAuthPopupLogin,successLogin,error){$scope.state={attemptLogin:!1},$scope.request=new UserSession,$scope.oAuthPopupLogin=function(ProviderName,width,height){oAuthPopupLogin($scope,ProviderName,width,height)},$scope.authenticate=function(){var debug_defer=$q.defer();return $scope.request.$save().then(function(data){
successLogin(data.firstname,data.lastname,data.email),$rootScope.user.$get(),$scope.$eval($scope.disableRedirection)||($rootScope.previousState?$state.go($rootScope.previousState):$state.go("home")),debug_defer.resolve(data)})["catch"](function(data){error("Authentication Failed","Critical Error on login")(data),debug_defer.reject(data)}),debug_defer.promise}})}(angular),function(angular){"use strict";angular.module("grft.login.directive",["ui.router","grft.login.controller"]).directive("grftLoginForm",function(){return{restrict:"A",replace:!0,scope:{onSignUpLinkClicked:"&",disableRedirection:"&",enableFlip:"@"},templateUrl:"account/login/parts/form/view.html",controller:"GRFTAccountLoginControl"}})}(angular),function(angular){"use strict";angular.module("grft.recover.controller",["grft.resources.user","errorReporter","toaster","ui.router"]).controller("GRFTAccountRecoverControl",function($scope,$rootScope,toaster,$state,PasswordReset,error){$scope.model=new PasswordReset,$scope.model.redirect_state=$rootScope.previousState,$scope.send=function(){$scope.model.$save().then(function(){toaster.pop("info","Email sent",["An email was sent to "+$scope.model.email+", please check your","inbox (or trash/spam mailbox) for a message","containing the link you must follow in order","to reset your password."].join(" ")),$state.go($rootScope.previousState||"home")})["catch"](error("Warning on resetting your password","Error on resetting your password"))}})}(angular),function(angular){"use strict";angular.module("grft.recover.directive",["grft.recover.controller"]).directive("grftRecoverForm",function(){return{restrict:"A",replace:!0,templateUrl:"account/recover/parts/form/view.html",controller:"GRFTAccountRecoverControl"}})}(angular),function(angular,console){"use strict";angular.module("grft.signup.controller",["ui.router","grft.account.oauth","toaster","errorReporter","grft.resources.user"]).controller("GRFTAccountSignupControl",function($scope,$rootScope,toaster,error,$state,User,oAuthPopupLogin){["user","investor"].indexOf($scope.defaultRole)<0&&console.warn("The default role of signup directive should be either 'user' or 'investor'"),$scope.state={attemptLogin:!1},$scope.oAuthPopupLogin=function(ProviderName,width,height){oAuthPopupLogin($scope,ProviderName,width,height)},$scope.disableRole=function(name){return $scope.preventSelectRole&&name!==$scope.defaultRole},$scope.isDirtyInvalid=function(field){return field.$dirty&&field.$invalid},$scope.request=new User,$scope.request.redirect_state=$rootScope.previousState,$scope.signup=function(){$scope.signupForm.$invalid||($scope.alreadySignedUp=!0,$scope.request.$save().then(function(){toaster.pop("success","Registration Success",["We have sent you confirmation an email","to activate your account."].join(" ")),$state.go("home")})["catch"](function(data){$scope.alreadySignedUp=!1,error("Signup Failed","Critical Error on signup")(data),409===data.status&&$state.go("login-recover")}))}})}(angular,console),function(angular){"use strict";angular.module("grft.signup.directive",["ui.router","ngMessages","grft.signup.controller"]).directive("grftSignupForm",function(){return{restrict:"A",replace:!0,scope:{onSignInLinkClicked:"&",showTitle:"@",defaultRole:"@",preventSelectRole:"="},templateUrl:"account/signup/parts/form/view.html",controller:"GRFTAccountSignupControl"}})}(angular),function(angular){"use strict";angular.module("grft.startup.list.parts.categoryBtn.directive",[]).directive("categoryBtn",function(){return{restrict:"AC",scope:{icon:"=",text:"="},templateUrl:"startup/list/parts/categoryBtn/view.html"}})}(angular),function(angular){"use strict";angular.module("grft.startup.list.parts.filter.controller",[]).controller("startup_list_filter_controller",function($scope){$scope.checkboxState=[],$scope.typeList instanceof Array&&$scope.typeList.forEach(function(){$scope.checkboxState.push({checked:!1})}),$scope.checkStateChanged=function(index){$scope.ngModel.types||($scope.ngModel.types=[]);var text=$scope.typeList[index],modelIndex=$scope.ngModel.types.indexOf(text);$scope.checkboxState[index].checked?0>modelIndex&&$scope.ngModel.types.push(text):($scope.ngModel.types.splice(modelIndex,1),$scope.ngModel.types.length<1&&delete $scope.ngModel.types)},void 0!==$scope.ngModel&&null!==$scope.ngModel||($scope.ngModel={})})}(angular),function(angular){"use strict";angular.module("grft.startup.list.parts.filter.directive",["grft.startup.list.parts.filter.controller","grft.startup.list.parts.filter.parts.rangeSelector.directive"]).directive("startupListFilterBox",function(){return{restrict:"AC",scope:!0,link:function(scope,el,attr){var key,type;scope.scope_type={selectList:"=",typeList:"=",ngModel:"="};for(key in attr)if(attr.hasOwnProperty(key)&&scope.scope_type[key])if(type=scope.scope_type[key],"@"===type||"&"===type)scope[key]=attr[key];else{if("="!==type)throw new Error("Specify @, &, or = as a scope type.");scope[key]=scope.$eval(attr[key])}scope.start=0,scope.end=1},controller:"startup_list_filter_controller",templateUrl:"startup/list/parts/filter/view.html"}})}(angular),function(ng){"use strict";ng.module("grft.account.edit.parts.forms.pwedit.controller",["grft.resources.user","grft.account.edit.pwedit.resources"]).controller("pweditController",function($scope,ChangePassword){$scope.eventPrefix||($scope.eventPrefix="pwedit"),$scope.password={},$scope.model=new ChangePassword,$scope.changePW=function(){$scope.$eval($scope.ngSubmit),$scope.model.$update().then(function(data){$scope.$emit($scope.eventPrefix+".success",data)})["catch"](function(error){$scope.$emit($scope.eventPrefix+".fail",error)})}})}(angular),function(ng){"use strict";ng.module("grft.account.edit.parts.forms.pwedit.directive",["grft.account.edit.parts.forms.pwedit.controller"]).directive("pwChangeForm",function(){return{restrict:"AC",templateUrl:"account/edit/parts/forms/pwedit/view.html",scope:{ngSubmit:"&",eventPrefix:"@"},controller:"pweditController"}})}(angular),function(ng){"use strict";ng.module("grft.account.edit.pwedit.resources",["ngResource","API"]).factory("ChangePassword",["$resource","api",function(r,a){return r(a("/user","info","me","password"),{},{update:{method:"PUT"}})}])}(angular),function(angular){"use strict";angular.module("grft.startup.common.sticker.parts.amountProgressbar.controller",[]).controller("progressbarCtrl",function($scope){$scope.calculateInPlanPercentage=function(){return!$scope.inPlan||$scope.inPlan<=0?void($scope.inPlanPercentage=0):void($scope.current>$scope.inPlan?$scope.inPlanPercentage=100:$scope.inPlanPercentage=$scope.current/$scope.inPlan*100)},$scope.calculateExcessPercentage=function(){var excessCurrent=$scope.current-$scope.inPlan;return!$scope.excess||$scope.excess<=0?void($scope.excessPercentage=0):0>=excessCurrent?void($scope.excessPercentage=0):void(excessCurrent>$scope.excess?$scope.excessPercentage=100:$scope.excessPercentage=excessCurrent/$scope.excess*100)},$scope.$watch("inPlan",function(value){$scope.calculateInPlanPercentage(),value<=$scope.total?$scope.excess=$scope.total-$scope.inPlan:$scope.excess=NaN}),$scope.$watch("total",function(value){$scope.excess=$scope.total-$scope.inPlan,value>=$scope.inPlan?$scope.excess=$scope.total-$scope.inPlan:$scope.excess=NaN}),$scope.$watch("current",function(){$scope.calculateInPlanPercentage(),$scope.calculateExcessPercentage()}),$scope.$watch("excess",function(){$scope.calculateExcessPercentage()}),$scope.$watch("currentAmount",function(val){val&&($scope.current=0,val.forEach(function(el){$scope.current+=el.amount}))})})}(angular),function(angular){"use strict";angular.module("grft.startup.common.sticker.parts.amountProgressbar.directive",["grft.startup.common.sticker.parts.amountProgressbar.controller"]).directive("amountProgressbar",function(){return{restrict:"AC",templateUrl:"startup/common/sticker/parts/amountProgressbar/view.html",scope:{total:"=",inPlan:"=",currentAmount:"="},controller:"progressbarCtrl"}})}(angular),function(ng,Date){"use strict";ng.module("grft.advisor.wizard.parts.forms.info.jobs.controller",["grft.advisor.constants","formDirtyChecker"]).controller("jobFormController",function($scope,isDirtyAndInvalid,boolean_options){$scope.isDirtyInvalid=isDirtyAndInvalid,$scope.checkDistanceErr=function(start,end){var result=start.$error.distance&&end.$error.distance,inverseConditionFields=["min","max","number","required"];return inverseConditionFields.every(function(field){return result=result&&!end.$error[field]&&!start.$error[field]}),result},$scope.nowYear=(new Date).getUTCFullYear(),$scope.is_current_year=function(year){return Number(year)===$scope.nowYear},$scope.boolean_options=boolean_options})}(angular,Date),function(ng){"use strict";ng.module("grft.advisor.wizard.parts.forms.info.jobs.directive",["grft.advisor.wizard.parts.forms.info.jobs.controller","ngMessages"]).directive("jobForm",function(){return{restrict:"AC",templateUrl:"advisor/wizard/parts/forms/info/jobs/view.html",controller:"jobFormController",scope:{name:"@",isRelevant:"@",ngModel:"=",ngDisabled:"="}}})}(angular),function(angular){"use strict";angular.module("startup.list.parts.filter.parts.rangeSelector.controller",[]).controller("range_selector_controller",function($scope){if($scope.start>=$scope.end)throw new Error("start should be less than end.");$scope.levelChanged=function(level){level<$scope.start?$scope.start=level:(level>$scope.end||$scope.start<level&&level<$scope.end)&&($scope.end=level)}})}(angular),function(angular){"use strict";angular.module("grft.startup.list.parts.filter.parts.rangeSelector.directive",["startup.list.parts.filter.parts.rangeSelector.controller"]).directive("rangeSelector",function(){return{restrict:"AC",scope:{start:"=",end:"="},templateUrl:"startup/list/parts/filter/parts/rangeSelector/view.html",controller:"range_selector_controller"}})}(angular),function(angular){"use strict";angular.module("grft",["ngSanitize","ngRoute","toaster","grft.services.notify","grft.resources.user","grft.resources.config","grft.home.route","grft.privacy.route","grft.terms.route","grft.account.edit.route","grft.startup.gate.route","grft.calculators.capitalraise.route","grft.calculators.startup.route","grft.calculators.established.route","grft.calculators.payback.route","grft.calculators.businessworth.route","grft.account.confirm.route","grft.account.login.route","grft.account.signup.route","grft.account.recover.route","grft.account.reset.route","grft.account.info.route","grft.faq.route","grft.about.route","grft.tutorial.investor.route","grft.advisor.gate.route","grft.advisor.find.route","grft.startup.payment.route","grft.menus.left","grft.menus.right","grft.successguide.route","grft.tutorial.business.route","grft.education.route"]).config(["$urlRouterProvider","$compileProvider","$locationProvider","$httpProvider",function(r,c,l,h){c.aHrefSanitizationWhitelist(/^\s*(https?|data):/),r.otherwise("/"),l.html5Mode(!0),h.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",h.defaults.xsrfCookieName=h.defaults.xsrfHeaderName="X-CSRFToken"}]).run(function($rootScope,$state,$stateParams,toaster,Me,UserSession,$window,BackendConfig){$rootScope.$state=$state,$rootScope.toasterConfig={},$rootScope.$stateParams=$stateParams,$rootScope.user=new Me,$rootScope.config=BackendConfig.get(),$rootScope.user.$get(),$rootScope.$on("$stateChangeStart",function(e,to,toParam,fromState){var checkUserRelatedStuff=function(){$rootScope.user.email||!to.loginRequired||to.rejectWhenLoggedin||(toaster.pop("info","Login users only","Please, log in or sign up!"),$state.transitionTo("login")),$rootScope.user.email&&!to.loginRequired&&to.rejectWhenLoggedin&&(toaster.pop("info","Already logged in","You are already logged in"),$state.transitionTo("home"))};fromState.preventWritePreviousState||($rootScope.previousState=fromState.name),to.loginRequired&&($rootScope.previousState=to.name),$rootScope.user.email?checkUserRelatedStuff():$rootScope.user.$get()["finally"](checkUserRelatedStuff)}),$rootScope.$on("$stateChangeSuccess",function(e,to,toParam,from,fromParam){(to.data&&!to.data.preventScrollResetOnSameState||to.name!==from.name)&&$window.scrollTo($window.scrollX,0)}),$rootScope.logout=function(){UserSession["delete"]().$promise.then(function(){$rootScope.user=new Me,$rootScope.user.$get().then(function(data){data&&toaster.pop("warning","Logout Failed","Couldn't remove user session.")})["catch"](function(){toaster.pop("success","Logout Succeeded","Have a nice day!")}),$state.go("home")},function(data){toaster.pop("error",data.data.message)})}})}(angular);